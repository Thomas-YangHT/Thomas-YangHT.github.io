<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="4414"/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%;position: relative;"><div style="outline:0px;box-sizing:border-box;"><div style="box-sizing:inherit;outline:0px;background:url(https://csdnimg.cn/release/phoenix/themes/skin-yellow/images/bg.png) repeat;font-family:&quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif;font-size:14px;line-height:1.57143;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;"><div style="outline:0px;box-sizing:border-box;"><span style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.05) 0px 2px 4px 0px;">
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;border-bottom:1px solid rgb(224, 224, 224);padding-top:16px;z-index:9;background-color:rgb(255, 255, 255);">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;">
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:8px;">
				<span style="border-radius:50%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center;font-size:12px;outline:0px;box-sizing:inherit;border:1px solid rgb(231, 244, 223);color:rgb(134, 202, 94);margin-right:8px;margin-top:4px;float:left;">转</span>				<h1 style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:24px;word-break:break-all;">fluentd 学习笔记</h1>
			</div>
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:14px;position:relative;">
				<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;color:rgb(133, 133, 133);width:88%;height:24px;overflow:hidden;">
																				<span style="box-sizing:inherit;outline:0px;margin-right:14px;">2017年10月23日 16:39:15</span>
					<a href="https://me.csdn.net/mtj66" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;color:rgb(120, 165, 241);margin-right:14px;" target="_blank">mtj66</a>
						<span style="box-sizing:inherit;outline:0px;margin-right:14px;">阅读数：1152</span>
										</div>
				<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;position:absolute;top:0px;right:0px;">
														</div>
			</div>
		</div>
	</div>
	<div style="box-sizing:inherit;outline:0px;display:block;position:relative;padding-top:16px;">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;word-break:break-all;">
								            
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;word-break:break-all;">
                
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;line-height:24px;color:rgb(50,50,45);font-size:16px;">
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<blockquote style="overflow:auto;word-break:break-all;outline:0px;padding:16px 16px 0px;margin:0px 0px 24px;display:block;border-left:4px solid rgb(221,221,221);background:rgb(238, 240, 244);box-sizing:border-box;word-wrap:normal;color:rgb(119,119,119);font-style:inherit;font-variant:inherit;font-weight:inherit;line-height:inherit;font-family:inherit;"><span style=""></span>
<p style="color:rgb(134,134,125);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:.9em;box-sizing:border-box;font-weight:400;line-height:26px;text-align:justify;margin-bottom:16px;font-style:italic;">
updated at 2016/10/8</p>
<span style=""></span></blockquote>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">最近为了做一些数据分析，把我自己服务器上所有应用的日志都通过 fluentd 转存到 mongodb 了，第一次用 fluentd，记录一些笔记。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">因为是初学，绝大部分内容来源于官方文档<span style="outline:0px;box-sizing:border-box;word-break:break-all;vertical-align:baseline;font-size:12px;line-height:0;"><a href="https://blog.laisky.com/p/fluentd/#fn-config" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">2</a></span>，等实际线上使用一段时间后再来更新一些心得。</p>
<hr style="border-right:none;word-break:break-all;outline:0px;margin:24px 0px;border-top:none;box-sizing:border-box;border-left:none;border-image:initial;border-bottom:1px solid rgb(204, 204, 204);border:0px;background:rgb(212,210,210);"/><h2 style="font-size:1.75em;word-break:break-all;outline:0px;padding:0px;margin:8px 0px 16px;box-sizing:border-box;color:inherit;font-weight:700;line-height:1.225;font-family:inherit;border-bottom:2px solid rgb(238,238,238);"><a name="t0" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
一、Install</h2>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">fluent 比较烦的一点是，从 gem 安装和从 rpm、yum 安装的名字不一样，连配置文件的路径都不一样，需要记住的是：</p>
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">从 gem 安装的，配置文件和执行程序都叫做 fluent；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">从 rpm 安装的，配置文件和执行程序都叫做 td-agent。</li></ul><h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t1" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
1、安装 fluentd</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">详细可参见<a href="http://docs.fluentd.org/v0.12/categories/installation" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">官方文档</a>。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">以 CentOS 为例：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:746px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 安装</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ sudo curl -L https:<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">//toolbelt.treasuredata.com/sh/install-redhat-td-agent2.sh </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">|</span></span><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"> sh</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 启动</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ sudo /etc/init.d/td-agent start</div></div></li></ol></code></pre>
</div>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t2" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
2、安装插件</h3>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:466px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 从 rpm 安装的话，</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 比如要使用下例的 mongo，需要安装</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># $ sudo td-agent-gem install fluent-plugin-mongo</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ sudo td-agent-gem &lt;PLUGIN_NAME&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 从 gem 安装的话</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ sudo gem install &lt;PLUGIN_NAME&gt;</div></div></li></ol></code></pre>
</div>
<hr style="border-right:none;word-break:break-all;outline:0px;margin:24px 0px;border-top:none;box-sizing:border-box;border-left:none;border-image:initial;border-bottom:1px solid rgb(204, 204, 204);border:0px;background:rgb(212,210,210);"/><h2 style="font-size:1.75em;word-break:break-all;outline:0px;padding:0px;margin:8px 0px 16px;box-sizing:border-box;color:inherit;font-weight:700;line-height:1.225;font-family:inherit;border-bottom:2px solid rgb(238,238,238);"><a name="t3" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
二、简介</h2>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">fluentd 是一个日志收集系统，通过丰富的插件，可以收集来自于各种系统或应用的日志，然后根据用户定义将日志做分类处理。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">通过 fluentd，你可以非常轻易的实现像追踪日志文件并将其过滤后转存到 MongoDB 这样的操作。fluentd 可以彻底的将你从繁琐的日志处理中解放出来。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">用图来做说明的话，使用 fluentd 以前，你的系统是这样的：</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><img src="fluentd1_files/fluentd-before.png" type="image/png" data-filename="fluentd-before.png" height="571" style="outline:0px;box-sizing:border-box;margin:0px;word-break:break-all;max-width:100%;cursor:zoom-in;border:0px;vertical-align:middle;display:block;" width="816"/></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">使用了 fluentd 后，你的系统会成为这样：</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><img src="fluentd1_files/fluentd-after.png" type="image/png" data-filename="fluentd-after.png" height="531" style="outline:0px;box-sizing:border-box;margin:0px;word-break:break-all;max-width:100%;cursor:zoom-in;border:0px;vertical-align:middle;display:block;" width="816"/></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">（图片来源<span style="outline:0px;box-sizing:border-box;word-break:break-all;vertical-align:baseline;font-size:12px;line-height:0;"><a href="https://blog.laisky.com/p/fluentd/#fn-refer" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">3</a></span>）</span></p>
<hr style="border-right:none;word-break:break-all;outline:0px;margin:24px 0px;border-top:none;box-sizing:border-box;border-left:none;border-image:initial;border-bottom:1px solid rgb(204, 204, 204);border:0px;background:rgb(212,210,210);"/><h2 style="font-size:1.75em;word-break:break-all;outline:0px;padding:0px;margin:8px 0px 16px;box-sizing:border-box;color:inherit;font-weight:700;line-height:1.225;font-family:inherit;border-bottom:2px solid rgb(238,238,238);"><a name="t4" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
三、配置文件</h2>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t5" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
1、路径</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">分为两种情况：</p>
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">如果是通过 gem 安装的，那么可以通过下列命令生成和编辑配置文件</li></ul><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:346px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ sudo fluentd --setup /etc/fluent</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ sudo vi /etc/fluent/fluent.conf</div></div></li></ol></code></pre>
</div>
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">如果是通过 RPM, Deb 或 DMG 安装的，那么配置文件在：</li></ul><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;">$ sudo vi /etc/td-agent/td-agent.conf
</code></pre>
</div>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t6" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
2、重用</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">你可以在配置文件里使用 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@include</code> 来切分你的配置文件，include
 支持多种写法：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:386px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 绝对路径</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">include</span> /path/to/config.conf</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 相对路径</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">@include conf.d/*.conf</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 甚至 URL</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">@include <span style="outline:0px;box-sizing:border-box;color:rgb(97, 174, 238);word-break:break-all;">http:</span>/<span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">/example.com/fluent</span>.conf</div></div></li></ol></code></pre>
</div>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t7" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
3、数据格式</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">在配置文件里你需要为很多参数赋值，这些值必须使用 fluentd 支持的数据格式，有下列这些：</p>
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">string</code>：字符串，最常见的格式，详细支持语法见文档<span style="outline:0px;box-sizing:border-box;word-break:break-all;vertical-align:baseline;font-size:12px;line-height:0;"><a href="https://blog.laisky.com/p/fluentd/#fn-literal" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">1</a></span>；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">integer</code>：整数</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">float</code>：浮点数；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">size</code> 大小，仅支持整数
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;k</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;K</code>；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;m</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;M</code>；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;g</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;G</code>；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;t</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;T</code>。</li></ul></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">time</code>：时间，也只支持整数；
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;s</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;S</code>；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;m</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;M</code>；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;h</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;H</code>；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTEGER&gt;d</code> 或 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;INTERGER&gt;D</code>。</li></ul></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">array</code>：按照 JSON array 解析；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">hash</code>：按照 JSON object 解析。</li></ul><hr style="border-right:none;word-break:break-all;outline:0px;margin:24px 0px;border-top:none;box-sizing:border-box;border-left:none;border-image:initial;border-bottom:1px solid rgb(204, 204, 204);border:0px;background:rgb(212,210,210);"/><h2 style="font-size:1.75em;word-break:break-all;outline:0px;padding:0px;margin:8px 0px 16px;box-sizing:border-box;color:inherit;font-weight:700;line-height:1.225;font-family:inherit;border-bottom:2px solid rgb(238,238,238);"><a name="t8" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
四、命令</h2>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">配置文件的核心是各种命令块(directives)，每一种命令都是为了完成某种处理，命令与命令之前还可以组成串联关系，以 pipline 的形式流式的处理和分发日志。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">最常见的方式就是 source 收集日志，然后由串联的 filter 做流式的处理，最后交给 match 进行分发。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">同时你还可以用 label 将任务分组，用 error 处理异常，用 system 修改运行参数。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">下面是详细的说明。</p>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t9" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
1、source</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">source 是 fluentd 的一切数据的来源，每一个 source 内都包含一个输入模块，比如原生集成的包含 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">http</code> 和 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">forward</code> 两个模块，分别用来接收
 HTTP 请求和 TCP 请求：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:546px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># Receive events from 24224/tcp</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># This is used by log forwarding and the fluent-cat command</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> forward</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  port 24224</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># http://this.host:9880/myapp.access?json={&quot;event&quot;:&quot;data&quot;}</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> http</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  port 9880</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li></ol></code></pre>
</div>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">当然，除了这两个外，fluentd 还有大量的支持各种协议或方式的 source 插件，比如最常用的 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">tail</code> 就可以帮你追踪文件。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">每一个具体的插件都包含其特有的参数，比如上例中 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">port</code> 就是一个参数，当你要使用一个
 source 插件的时候，注意看看有哪些参数是需要配置的，然后将其写到 source directive 内。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">source dirctive 在获取到输入后，会向 fluent 的路由抛出一个事件，这个事件包含三个要素：</p>
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">tag</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">time</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">record</li></ul><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">那上例代码中的第二个 source 举例，当我们发起一个 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">http://this.host:9880/myapp.access?json={&quot;event&quot;:&quot;data&quot;}</code> 的请求时，这个
 source 会抛出：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:642px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># generated by http://this.host:9880/myapp.access?json={&quot;event&quot;:&quot;data&quot;}</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">tag: myapp.access</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">time</span>: <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>current <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0,134,179);"><span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">time</span></span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">record: <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">{</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);"><span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;event&quot;</span></span>:<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);"><span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;data&quot;</span></span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">}</span></div></div></li></ol></code></pre>
</div>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">关于如何编写一个输入插件，可以参考文档<span style="outline:0px;box-sizing:border-box;word-break:break-all;vertical-align:baseline;font-size:12px;line-height:0;"><a href="https://blog.laisky.com/p/fluentd/#fn-input-plugin" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">4</a></span>。</p>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t10" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
2、match</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">match 用来指定动作，通过 tag 匹配 source，然后执行指定的命令来分发日志，最常见的用法就是将 source 收集的日志转存到数据库。</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:538px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># http://this.host:9880/myapp.access?json={&quot;event&quot;:&quot;data&quot;}</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> http</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  port 9880</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 将标记为 myapp.access 的日志转存到文件</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;match myapp.access&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> file</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  path /var/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">log</span>/fluent/access</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/match&gt;</div></div></li></ol></code></pre>
</div>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">上例中的 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">myapp.access</code> 就是
 tag，tag 有好几种匹配模式：</p>
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">*</code>：匹配任意一个 tag；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">**</code>：匹配任意数量个 tag；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">a b</code>：匹配 a 或 b；</li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">{X,Y,Z}</code>：匹配 X, Y, Z 中的一个。</li></ul><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">比如我可以写成这样：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:194px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span> <span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">a.</span>*&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span> **&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span> <span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">a.</span></span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">{</span></span><span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">b</span>,<span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">c</span></span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">}</span></span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span> <span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">a.</span>* <span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">b.</span>*&gt;</span></div></div></li></ol></code></pre>
</div>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">fluentd 按照 match 出现的顺序依次匹配，一旦匹配成功就不会再往下匹配，所以如果你先写了一个 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">match
 **</code>，然后后面的所有的 match 都会被忽略。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">然后我们使用了 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@type
 file</code> 插件来处理事件，这个插件有一个 path 属性，用来指定输出文件。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">用法和 source 几乎一模一样，不过 source 是抛出事件，match 是接收并处理事件。你同样可以找到大量的各式各样的输出插件，也可以参考文档<span style="outline:0px;box-sizing:border-box;word-break:break-all;vertical-align:baseline;font-size:12px;line-height:0;"><a href="https://blog.laisky.com/p/fluentd/#fn-output-plugin" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">5</a></span>自己写一个。</p>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t11" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
3、filter</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">filter 和 match 的语法几乎完全一样，但是 filter 可以串联成 pipeline，对数据进行串行处理，最终再交给 match 输出。</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:538px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># http://this.host:9880/myapp.access?json={&quot;event&quot;:&quot;data&quot;}</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> http</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  port 9880</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;filter myapp.access&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> record_transformer</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;record&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    host_param <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);"><span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;#{Socket.gethostname}&quot;</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;/record&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/filter&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">13</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">14</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;match myapp.access&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">15</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> file</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">16</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  path /var/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">log</span>/fluent/access</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">17</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/match&gt;</div></div></li></ol></code></pre>
</div>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">这个例子里，filter 获取数据后，调用原生的 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@type
 record_transformer</code> 插件，在事件的 record 里插入了新的字段 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">host_param</code>，然后再交给
 match 输出。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">你可以参考文档<span style="outline:0px;box-sizing:border-box;word-break:break-all;vertical-align:baseline;font-size:12px;line-height:0;"><a href="https://blog.laisky.com/p/fluentd/#fn-filter-plugin" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">6</a></span>来学习如何编写自定义的
 filter。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">虽然各个插件都有各自的参数，不过 fluentd 为所有的插件都设定了一组默认的参数： - <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@type</code>：指定插件类型；
 - <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@id</code>：给插件指定一个 id； - <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@label</code>：指定
 label； - <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@log_level</code>：指定插件接收的日志级别。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">你可以在任意插件内指定这些参数。</p>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t12" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
4、system</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">fluentd 的相关设置，可以在启动时设置，也可以在配置文件里设置，包含：</p>
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">log_level</code></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">suppress_repeated_stacktrace</code></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">emit_error_log_interval</code></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">suppress_config_dump</code></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">without_source</code></li></ul><h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t13" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
5、label</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">label 用于将任务进行分组，方便复杂任务的管理。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">你可以在 source 里指定 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">@label
 @&lt;LABEL_NAME&gt;</code>，这个 source 所触发的事件就会被发送给指定的 label 所包含的任务，而不会被后续的其他任务获取到。</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">看个例子：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:418px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> forward</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 这个任务指定了 label 为 @SYSTEM</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 会被发送给 &lt;label @SYSTEM&gt;</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 而不会被发送给下面紧跟的 filter 和 match</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> tail</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @label @SYSTEM</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">source</span>&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">13</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;filter access.**&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">14</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> record_transformer</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">15</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;record&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">16</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># ...</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">17</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;/record&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">18</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/filter&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">19</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;match **&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">20</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> elasticsearch</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">21</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># ...</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">22</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/match&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">23</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">24</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;label @SYSTEM&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">25</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># 将会接收到上面 @type tail 的 source event</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">26</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;filter var.log.middleware.**&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">27</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> grep</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">28</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># ...</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">29</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;/filter&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">30</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;match **&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">31</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    @<span style="outline:0px;box-sizing:border-box;color:rgb(230, 192, 123);word-break:break-all;">type</span> s3</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">32</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(153,153,136);font-style:italic;"><span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;"># ...</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">33</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  &lt;/match&gt;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">34</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;/label&gt;</div></div></li></ol></code></pre>
</div>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t14" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
6、error</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">用来接收插件通过调用 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">emit_error_event</code> API
 抛出的异常，使用方法和 label 一样，通过设定 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">&lt;label @ERROR&gt;</code> 就可以接收到相关的异常。</p>
<hr style="border-right:none;word-break:break-all;outline:0px;margin:24px 0px;border-top:none;box-sizing:border-box;border-left:none;border-image:initial;border-bottom:1px solid rgb(204, 204, 204);border:0px;background:rgb(212,210,210);"/><h2 style="font-size:1.75em;word-break:break-all;outline:0px;padding:0px;margin:8px 0px 16px;box-sizing:border-box;color:inherit;font-weight:700;line-height:1.225;font-family:inherit;border-bottom:2px solid rgb(238,238,238);"><a name="t15" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
五、Demo</h2>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t16" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
1、Config</h3>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">一个监听 Nginx 日志的例子：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:1538px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">source</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @type tail</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @id nginx-access</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @label @nginx</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  path /var/log/nginx/access.log</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  pos_file /var/lib/fluentd/nginx-access.log.posg</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  tag nginx.access</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  format /^<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">remote</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">[</span>^ <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">]</span>*<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">host</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">[</span>^ <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">]</span>*<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\[</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">time</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">[</span>^<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\]</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">]</span>*<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\]</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">code</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">[</span>^ <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">]</span>*<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">&quot;(?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">method</span>&gt;</span>\S+)(?: +(?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">path</span>&gt;</span>[^\&quot;]*) +\S*)?&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">size</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">[</span>^ <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">]</span>*<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)(</span>?: <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">&quot;(?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">referer</span>&gt;</span>[^\&quot;]*)&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">&quot;(?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">agent</span>&gt;</span>[^\&quot;]*)&quot;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span>?$/</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  time_format %d/%b/%Y:%H:%M:%S %z</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">source</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">source</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">13</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @type tail</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">14</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @id nginx-error</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">15</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  @label @nginx</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">16</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  path /var/log/nginx/error.log</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">17</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  pos_file /var/lib/fluentd/nginx-error.log.posg</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">18</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  tag nginx.error</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">19</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">20</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  format /^<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">time</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">{</span>4<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">}</span>/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">{</span>2<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">}</span>/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">{</span>2<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">}</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">{</span>2<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">}</span>:<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">{</span>2<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">}</span>:<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">{</span>2<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">})</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\[</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">log_level</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\w</span>+<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\]</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">pid</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span>+<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span>.<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">tid</span>&gt;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">\d</span>+<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span>: <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">(</span>?<span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">message</span>&gt;</span>.*<span style="outline:0px;box-sizing:border-box;word-break:break-all;font-weight:700;">)</span>$/</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">21</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">source</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">22</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">23</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">label</span> @<span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">nginx</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">24</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span> <span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">nginx.access</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">25</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    @type mongo</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">26</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    database nginx</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">27</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    collection access</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">28</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    host 10.47.12.119</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">29</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    port 27016</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">30</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">31</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    time_key <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0,134,179);">time</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">32</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    flush_interval 10s</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">33</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">34</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span> <span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">nginx.error</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">35</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    @type mongo</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">36</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    database nginx</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">37</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    collection error</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">38</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    host 10.47.12.119</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">39</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    port 27016</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">40</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">41</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    time_key <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0,134,179);">time</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">42</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    flush_interval 10s</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">43</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  <span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">match</span>&gt;</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">44</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;color:rgb(224, 108, 117);word-break:break-all;">label</span>&gt;</span></div></div></li></ol></code></pre>
</div>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">为了匹配，你也需要修改 Nginx 的 <code style="outline:0px;box-sizing:border-box;border-radius:4px;word-break:break-all;font-size:13.6px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:rgb(199,37,78);background-color:rgb(249,242,244);line-height:normal;">log_format</code> 为：</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<pre style="overflow-x:auto;word-break:break-all;outline:0px;padding:8px;margin:0px 0px 24px;position:relative;white-space:pre-wrap;word-wrap:break-word;box-sizing:border-box;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:13.6px;line-height:1.45;color:rgb(51,51,51);overflow:auto;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);"><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span><code style="overflow-x:auto;word-break:break-all;outline:0px;border-radius:4px;display:inline;font-size:13.6px;line-height:inherit;box-sizing:border-box;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;color:inherit;background:transparent 0px 0px;border:0px;">log_format main <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(223,80,0);">'$remote_addr $host [$time_local] $status <span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;$request&quot;</span> $body_bytes_sent <span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;$http_referer&quot;</span> <span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;$http_user_agent&quot;</span>'</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">;</span>
</code></pre>
</div>
<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:1.5em;color:inherit;font-weight:700;line-height:1.43;font-family:inherit;"><a name="t17" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
2、Docker</h3>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">我自己在用的一个 <a href="https://github.com/Laisky/fluentd-docker-image/blob/nginx-mongo/docker-compose.yml" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">docker 的镜像和 docker-compose.yml</a>。</p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">
<hr style="border-right:none;word-break:break-all;outline:0px;margin:24px 0px;border-top:none;box-sizing:border-box;border-left:none;border-image:initial;border-bottom:1px solid rgb(204, 204, 204);border:0px;background:rgb(212,210,210);"/><ol style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><a href="https://github.com/fluent/fluentd/blob/master/example/v1_literal_example.conf" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">fluentd: 字符串格式</a> <a href="https://blog.laisky.com/p/fluentd/#fnref-literal" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank" title="Jump back to footnote 1 in the text.">↩</a></p>
</li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><a href="http://docs.fluentd.org/articles/config-file" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">fluentd: configure</a> <a href="https://blog.laisky.com/p/fluentd/#fnref-config" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank" title="Jump back to footnote 2 in the text.">↩</a></p>
</li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><a href="http://mayiwei.com/2014/03/03/fluentd-setup/" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">fluentd安装配置简介</a> <a href="https://blog.laisky.com/p/fluentd/#fnref-refer" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank" title="Jump back to footnote 3 in the text.">↩</a></p>
</li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><a href="http://docs.fluentd.org/articles/input-plugin-overview" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">fluentd: Input Plugin Overview</a> <a href="https://blog.laisky.com/p/fluentd/#fnref-input-plugin" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank" title="Jump back to footnote 4 in the text.">↩</a></p>
</li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><a href="http://docs.fluentd.org/articles/output-plugin-overview" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">fluentd: Output Plugin Overview</a> <a href="https://blog.laisky.com/p/fluentd/#fnref-output-plugin" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank" title="Jump back to footnote 5 in the text.">↩</a></p>
</li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><a href="http://docs.fluentd.org/articles/filter-plugin-overview" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank">fluentd: Filter Plugin Overview</a> <a href="https://blog.laisky.com/p/fluentd/#fnref-filter-plugin" rel="nofollow" style="word-break:break-all;color:rgb(27,65,135);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:transparent;" target="_blank" title="Jump back to footnote 6 in the text.">↩</a></p>
</li></ol><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">java API</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// private static FluentLogger LOG = FluentLogger.getLogger(&quot;app&quot;);</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// for remote fluentd</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// port 24225</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// bind 172.16.5.20</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// The method should be called only once.</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">private</span> <span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">static</span> FluentLogger LOG = FluentLogger.getLogger(<span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;docker&quot;</span>,</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">			<span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;172.16.5.20&quot;</span>, <span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">24225</span>);</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">static</span> <span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(97, 174, 238);word-break:break-all;">main</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">(String[] args)</span> </span>{</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		FluentLoggerTest fluentLoggerTest = <span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">new</span> FluentLoggerTest();</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">13</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		fluentLoggerTest.doApplicationLogic();</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">14</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;=====end main ======&quot;</span>);</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">15</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	}</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">16</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">17</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">18</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	<span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(97, 174, 238);word-break:break-all;">doApplicationLogic</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">()</span> </span>{</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">19</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// Then, please create the events like this.</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">20</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// This will send the event to fluentd, with tag 'app.follow' and the</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">21</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// attributes 'from' and 'to'.</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">22</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		Map&lt;String, Object&gt; data = <span style="outline:0px;box-sizing:border-box;color:rgb(198, 120, 221);word-break:break-all;">new</span> HashMap&lt;String, Object&gt;();</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">23</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		data.put(<span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;from&quot;</span>, <span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;userA&quot;</span>);</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">24</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		data.put(<span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;to&quot;</span>, <span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;userB&quot;</span>);</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">25</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		LOG.log(<span style="outline:0px;box-sizing:border-box;color:rgb(152, 195, 121);word-break:break-all;">&quot;test&quot;</span>, data);</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">26</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// Close method in FluentLogger class should be called explicitly when</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">27</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// application is finished.</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">28</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">// The method closes socket connection with the fluentd.</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">29</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">30</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">31</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		FluentLogger.close();</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">32</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">		<span style="outline:0px;box-sizing:border-box;color:rgb(92, 99, 112);font-style:italic;word-break:break-all;">//FluentLogger.closeAll();</span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">33</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">	}</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">34</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li></ol></code></pre> <span style="outline:0px;box-sizing:border-box;word-break:break-all;">Maven pom </span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;logger.version&gt;0.2.1&lt;/logger.version&gt;</span><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span>&lt;dependency&gt;<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span>    &lt;groupId&gt;org.fluentd&lt;/groupId&gt;<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span>    &lt;artifactId&gt;fluent-logger&lt;/artifactId&gt;<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span>    &lt;version&gt;${logger.version}&lt;/version&gt;<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><span style="outline:0px;box-sizing:border-box;word-break:break-all;"></span>  &lt;/dependency&gt;<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
</div>
</div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;text-align:right;"><a href="https://blog.laisky.com/p/fluentd/#disqus_thread" rel="nofollow" style="word-break:break-all;color:rgb(50,50,45);outline:0px;cursor:pointer;box-sizing:border-box;text-decoration:none;background-color:rgb(245,245,245);margin-left:30px;font-family:'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;font-size:14px;" target="_blank"></a></div>
            </div>
                <span style="display:block;height:0px;visibility:hidden;clear:both;"> </span></div>
		
	</div>
	
</div></span></div></div></div></div>
</div>
</span>
</div></body></html> 