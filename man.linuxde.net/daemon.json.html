<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="4266"/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%;position: relative;"><div style="box-sizing:border-box;font-family:sans-serif;text-size-adjust:100%;font-size:10px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased;"><div style="box-sizing:border-box;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:1.42857;color:rgb(51, 68, 76);background-color:rgb(255, 255, 255);overflow-x:hidden;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;flex-direction:row;flex:1 1 0%;"><span style="box-sizing:border-box;flex:1 1 0%;min-width:300px;"><div style="box-sizing:border-box;">
							
								
							<h1 style="box-sizing:border-box;margin:0.67em 0px;font-size:36px;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:48px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;clear:both;">dockerd</h1>  <span style="box-sizing:border-box;font-style:italic;font-size:12px;display:block;color:rgba(13, 86, 125, 0.55);" title="Estimated reading time">
  <span style="box-sizing:border-box;">Estimated reading time: </span>
  
  
    52 minutes
  
</span>

							
							
							

<h1 style="box-sizing:border-box;margin:0.67em 0px;font-size:36px;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:48px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;clear:both;">daemon</h1>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">Usage:	dockerd COMMAND

A self-sufficient runtime for containers.

Options:
      --add-runtime runtime                   Register an additional OCI compatible runtime (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --allow-nondistributable-artifacts list Push nondistributable artifacts to specified registries (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --api-cors-header string                Set CORS headers in the Engine API
      --authorization-plugin list             Authorization plugins to load (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --bip string                            Specify network bridge IP
  -b, --bridge string                         Attach containers to a network bridge
      --cgroup-parent string                  Set parent cgroup for all containers
      --cluster-advertise string              Address or interface name to advertise
      --cluster-store string                  URL of the distributed storage backend
      --cluster-store-opt map                 Set cluster store options (default map<span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --config-file string                    Daemon configuration file (default &quot;/etc/docker/daemon.json&quot;)
      --containerd string                     Path to containerd socket
      --cpu-rt-period int                     Limit the CPU real-time period in microseconds
      --cpu-rt-runtime int                    Limit the CPU real-time runtime in microseconds
      --data-root string                      Root directory of persistent Docker state (default &quot;/var/lib/docker&quot;)
  -D, --debug                                 Enable debug mode
      --default-gateway ip                    Container default gateway IPv4 address
      --default-gateway-v6 ip                 Container default gateway IPv6 address
      --default-runtime string                Default OCI runtime for containers (default &quot;runc&quot;)
      --default-ulimit ulimit                 Default ulimits for containers (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --dns list                              DNS server to use (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --dns-opt list                          DNS options to use (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --dns-search list                       DNS search domains to use (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --exec-opt list                         Runtime execution options (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --exec-root string                      Root directory for execution state files (default &quot;/var/run/docker&quot;)
      --experimental                          Enable experimental features
      --fixed-cidr string                     IPv4 subnet for fixed IPs
      --fixed-cidr-v6 string                  IPv6 subnet for fixed IPs
  -G, --group string                          Group for the unix socket (default &quot;docker&quot;)
      --help                                  Print usage
  -H, --host list                             Daemon socket(s) to connect to (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --icc                                   Enable inter-container communication (default true)
      --init                                  Run an init in the container to forward signals and reap processes
      --init-path string                      Path to the docker-init binary
      --insecure-registry list                Enable insecure registry communication (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --ip ip                                 Default IP when binding container ports (default 0.0.0.0)
      --ip-forward                            Enable net.ipv4.ip_forward (default true)
      --ip-masq                               Enable IP masquerading (default true)
      --iptables                              Enable addition of iptables rules (default true)
      --ipv6                                  Enable IPv6 networking
      --label list                            Set key=value labels to the daemon (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --live-restore                          Enable live restore of docker when containers are still running
      --log-driver string                     Default driver for container logs (default &quot;json-file&quot;)
  -l, --log-level string                      Set the logging level (&quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;fatal&quot;) (default &quot;info&quot;)
      --log-opt map                           Default log driver options for containers (default map<span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --max-concurrent-downloads int          Set the max concurrent downloads for each pull (default 3)
      --max-concurrent-uploads int            Set the max concurrent uploads for each push (default 5)
      --metrics-addr string                   Set default address and port to serve the metrics api on
      --mtu int                               Set the containers network MTU
      --node-generic-resources list           Advertise user-defined resource
      --no-new-privileges                     Set no-new-privileges by default for new containers
      --oom-score-adjust int                  Set the oom_score_adj for the daemon (default -500)
  -p, --pidfile string                        Path to use for daemon PID file (default &quot;/var/run/docker.pid&quot;)
      --raw-logs                              Full timestamps without ANSI coloring
      --registry-mirror list                  Preferred Docker registry mirror (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --seccomp-profile string                Path to seccomp profile
      --selinux-enabled                       Enable selinux support
      --shutdown-timeout int                  Set the default shutdown timeout (default 15)
  -s, --storage-driver string                 Storage driver to use
      --storage-opt list                      Storage driver options (default <span style="box-sizing:border-box;color:rgb(166, 23, 23);">[</span>])
      --swarm-default-advertise-addr string   Set default address or interface for swarm advertised address
      --tls                                   Use TLS; implied by --tlsverify
      --tlscacert string                      Trust certs signed only by this CA (default &quot;~/.docker/ca.pem&quot;)
      --tlscert string                        Path to TLS certificate file (default &quot;~/.docker/cert.pem&quot;)
      --tlskey string                         Path to TLS key file (default ~/.docker/key.pem&quot;)
      --tlsverify                             Use TLS and verify the remote
      --userland-proxy                        Use userland proxy for loopback traffic (default true)
      --userland-proxy-path string            Path to the userland proxy binary
      --userns-remap string                   User/Group setting for user namespaces
  -v, --version                               Print version information and quit
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Options with [] may be specified multiple times.</p>

<h2 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:38px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:28px;clear:both;">Description</h2>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd</code> is the persistent process that manages containers. Docker
uses different binaries for the daemon and client. To run the daemon you
type <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To run the daemon with debug output, use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd -D</code> or add <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">&quot;debug&quot;: true</code> to
the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">daemon.json</code> file.</p>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: In Docker 1.13 and higher, enable experimental features by starting
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd</code> with the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--experimental</code> flag or adding <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">&quot;experimental&quot;: true</code> to the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">daemon.json</code> file. In earlier Docker versions, a different build was required
to enable experimental features.</p>
</blockquote>

<h2 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:38px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:28px;clear:both;">Examples</h2>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Daemon socket option</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The Docker daemon can listen for <a href="https://docs.docker.com/engine/reference/api/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">Docker Engine API</a>
requests via three different types of Socket: <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">unix</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">tcp</code>, and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">fd</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">By default, a <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">unix</code> domain socket (or IPC socket) is created at
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/run/docker.sock</code>, requiring either <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">root</code> permission, or <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker</code> group
membership.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">If you need to access the Docker daemon remotely, you need to enable the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">tcp</code>
Socket. Beware that the default setup provides un-encrypted and
un-authenticated direct access to the Docker daemon - and should be secured
either using the <a href="https://docs.docker.com/engine/security/https/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">built in HTTPS encrypted socket</a>, or by
putting a secure web proxy in front of it. You can listen on port <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">2375</code> on all
network interfaces with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H tcp://0.0.0.0:2375</code>, or on a particular network
interface using its IP address: <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H tcp://192.168.59.103:2375</code>. It is
conventional to use port <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">2375</code> for un-encrypted, and port <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">2376</code> for encrypted
communication with the daemon.</p>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: If you’re using an HTTPS encrypted socket, keep in mind that only
TLS1.0 and greater are supported. Protocols SSLv3 and under are not
supported anymore for security reasons.</p>
</blockquote>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">On Systemd based systems, you can communicate with the daemon via
<a href="http://0pointer.de/blog/projects/socket-activation.html" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">Systemd socket activation</a>,
use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd -H fd://</code>. Using <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">fd://</code> will work perfectly for most setups but
you can also specify individual sockets: <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd -H fd://3</code>. If the
specified socket activated files aren’t found, then Docker will exit. You can
find examples of using Systemd socket activation with Docker and Systemd in the
<a href="https://github.com/docker/docker/tree/master/contrib/init/systemd/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">Docker source tree</a>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">You can configure the Docker daemon to listen to multiple sockets at the same
time using multiple <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> options:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(34, 139, 34);"># listen using the default unix socket, and on 2 specific IP addresses on this host.</span>

<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> unix:///var/run/docker.sock <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> tcp://192.168.59.106 <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> tcp://10.10.10.2
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The Docker client will honor the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">DOCKER_HOST</code> environment variable to set the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> flag for the client. Use <strong style="box-sizing:border-box;font-weight:700;">one</strong> of the following commands:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> tcp://0.0.0.0:2375 ps
</code></pre></div></div>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">export </span><span style="box-sizing:border-box;color:rgb(0, 104, 139);">DOCKER_HOST</span><span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tcp://0.0.0.0:2375&quot;</span>

<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker ps
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Setting the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">DOCKER_TLS_VERIFY</code> environment variable to any value other than
the empty string is equivalent to setting the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--tlsverify</code> flag. The following
are equivalent:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--tlsverify</span> ps
<span style="box-sizing:border-box;color:rgb(34, 139, 34);"># or</span>
<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">export </span><span style="box-sizing:border-box;color:rgb(0, 104, 139);">DOCKER_TLS_VERIFY</span><span style="box-sizing:border-box;">=</span>1
<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker ps
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The Docker client will honor the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">HTTP_PROXY</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">HTTPS_PROXY</code>, and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">NO_PROXY</code>
environment variables (or the lowercase versions thereof). <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">HTTPS_PROXY</code> takes
precedence over <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">HTTP_PROXY</code>.</p>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Bind Docker to another host/port or a Unix socket</h4>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Warning</strong>:
Changing the default <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker</code> daemon binding to a
TCP port or Unix <em style="box-sizing:border-box;">docker</em> user group will increase your security risks
by allowing non-root users to gain <em style="box-sizing:border-box;">root</em> access on the host. Make sure
you control access to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker</code>. If you are binding
to a TCP port, anyone with access to that port has full Docker access;
so it is not advisable on an open network.</p>
</blockquote>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">With <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> it is possible to make the Docker daemon to listen on a
specific IP and port. By default, it will listen on
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">unix:///var/run/docker.sock</code> to allow only local connections by the
<em style="box-sizing:border-box;">root</em> user. You <em style="box-sizing:border-box;">could</em> set it to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">0.0.0.0:2375</code> or a specific host IP
to give access to everybody, but that is <strong style="box-sizing:border-box;font-weight:700;">not recommended</strong> because
then it is trivial for someone to gain root access to the host where the
daemon is running.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Similarly, the Docker client can use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> to connect to a custom port.
The Docker client will default to connecting to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">unix:///var/run/docker.sock</code>
on Linux, and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">tcp://127.0.0.1:2376</code> on Windows.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> accepts host and port assignment in the following format:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">tcp://[host]:[port][path] or unix://path
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">For example:</p>

<ul style="box-sizing:border-box;margin-bottom:10px;margin-top:10px;">
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">tcp://</code> -&gt; TCP connection to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">127.0.0.1</code> on either port <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">2376</code> when TLS encryption
is on, or port <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">2375</code> when communication is in plain text.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">tcp://host:2375</code> -&gt; TCP connection on
host:2375</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">tcp://host:2375/path</code> -&gt; TCP connection on
host:2375 and prepend path to all requests</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">unix://path/to/socket</code> -&gt; Unix socket located
at <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">path/to/socket</code></li>
</ul>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code>, when empty, will default to the same value as
when no <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> was passed in.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> also accepts short form for TCP bindings: <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">host:</code> or <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">host:port</code> or <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">:port</code></p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Run Docker in daemon mode:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo</span> &lt;path to&gt;/dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> 0.0.0.0:5555 &amp;
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Download an <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">ubuntu</code> image:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> :5555 pull ubuntu
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">You can use multiple <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code>, for example, if you want to listen on both
TCP and a Unix socket</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(34, 139, 34);"># Run docker in daemon mode</span>
<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo</span> &lt;path to&gt;/dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> tcp://127.0.0.1:2375 <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> unix:///var/run/docker.sock &amp;
<span style="box-sizing:border-box;color:rgb(34, 139, 34);"># Download an ubuntu image, use default Unix socket</span>
<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker pull ubuntu
<span style="box-sizing:border-box;color:rgb(34, 139, 34);"># OR use the TCP port</span>
<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> tcp://127.0.0.1:2375 pull ubuntu
</code></pre></div></div>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Daemon storage-driver</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">On Linux, the Docker daemon has support for several different image layer storage
drivers: <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">aufs</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">btrfs</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">zfs</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay2</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">aufs</code> driver is the oldest, but is based on a Linux kernel patch-set that
is unlikely to be merged into the main kernel. These are also known to cause
some serious kernel crashes. However <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">aufs</code> allows containers to share
executable and shared library memory, so is a useful choice when running
thousands of containers with the same program or libraries.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code> driver uses thin provisioning and Copy on Write (CoW)
snapshots. For each devicemapper graph location – typically
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/lib/docker/devicemapper</code> – a thin pool is created based on two block
devices, one for data and one for metadata. By default, these block devices
are created automatically by using loopback mounts of automatically created
sparse files. Refer to <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#devicemapper-options" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">Devicemapper options</a> below
for a way how to customize this setup.
<a href="http://jpetazzo.github.io/2014/01/29/docker-device-mapper-resize/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">~jpetazzo/Resizing Docker containers with the Device Mapper plugin</a>
article explains how to tune your existing setup without the use of options.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">btrfs</code> driver is very fast for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker build</code> - but like <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code>
does not share executable memory between devices. Use
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd -s btrfs -g /mnt/btrfs_partition</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">zfs</code> driver is probably not as fast as <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">btrfs</code> but has a longer track record
on stability. Thanks to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">Single Copy ARC</code> shared blocks between clones will be
cached only once. Use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd -s zfs</code>. To select a different zfs filesystem
set <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">zfs.fsname</code> option as described in <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#zfs-options" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">ZFS options</a>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay</code> is a very fast union filesystem. It is now merged in the main
Linux kernel as of <a href="https://lkml.org/lkml/2014/10/26/137" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">3.18.0</a>. <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay</code>
also supports page cache sharing, this means multiple containers accessing
the same file can share a single page cache entry (or entries), it makes
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay</code> as efficient with memory as <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">aufs</code> driver. Call
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd -s overlay</code> to use it.</p>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: As promising as <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay</code> is, the feature is still quite young and
should not be used in production. Most notably, using <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay</code> can cause
excessive inode consumption (especially as the number of images grows), as
well as &gt; being incompatible with the use of RPMs.</p>
</blockquote>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay2</code> uses the same fast union filesystem but takes advantage of
<a href="https://lkml.org/lkml/2015/2/11/106" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">additional features</a> added in Linux
kernel 4.0 to avoid excessive inode consumption. Call <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd -s overlay2</code>
to use it.</p>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: Both <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay2</code> are currently unsupported on <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">btrfs</code>
or any Copy on Write filesystem and should only be used over <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">ext4</code> partitions.</p>
</blockquote>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">On Windows, the Docker daemon supports a single image layer storage driver
depending on the image platform: <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">windowsfilter</code> for Windows images, and
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow</code> for Linux containers on Windows.</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Options per storage driver</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Particular storage-driver can be configured with options specified with
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--storage-opt</code> flags. Options for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code> are prefixed with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm</code>,
options for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">zfs</code> start with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">zfs</code>, options for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">btrfs</code> start with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">btrfs</code>
and options for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow</code> start with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow</code>.</p>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Devicemapper options</h4>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This is an example of the configuration file for devicemapper on Linux:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
  </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;storage-driver&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;devicemapper&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
  </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;storage-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dm.thinpooldev=/dev/mapper/thin-pool&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dm.use_deferred_deletion=true&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dm.use_deferred_removal=true&quot;</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
  </span><span style="box-sizing:border-box;">]</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span></code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.thinpooldev</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies a custom block storage device to use for the thin pool.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">If using a block device for device mapper storage, it is best to use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lvm</code>
to create and manage the thin-pool volume. This volume is then handed to Docker
to exclusively create snapshot volumes needed for images and containers.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Managing the thin-pool outside of Engine makes for the most feature-rich
method of having Docker utilize device mapper thin provisioning as the
backing storage for Docker containers. The highlights of the lvm-based
thin-pool management feature include: automatic or interactive thin-pool
resize support, dynamically changing thin-pool features, automatic thinp
metadata checking when lvm activates the thin-pool, etc.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">As a fallback if no thin pool is provided, loopback files are
created. Loopback is very slow, but can be used without any
pre-configuration of storage. It is strongly recommended that you do
not use loopback in production. Ensure your Engine daemon has a
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--storage-opt dm.thinpooldev</code> argument provided.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example:</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.thinpooldev<span style="box-sizing:border-box;">=</span>/dev/mapper/thin-pool
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.directlvm_device</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">As an alternative to providing a thin pool as above, Docker can setup a block
device for you.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example:</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.directlvm_device<span style="box-sizing:border-box;">=</span>/dev/xvdf
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.thinp_percent</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Sets the percentage of passed in block device to use for storage.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example:</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.thinp_percent<span style="box-sizing:border-box;">=</span>95
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.thinp_metapercent</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Sets the percentage of the passed in block device to use for metadata storage.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example:</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.thinp_metapercent<span style="box-sizing:border-box;">=</span>1
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.thinp_autoextend_threshold</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Sets the value of the percentage of space used before <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lvm</code> attempts to
autoextend the available space [100 = disabled]</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example:</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.thinp_autoextend_threshold<span style="box-sizing:border-box;">=</span>80
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.thinp_autoextend_percent</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Sets the value percentage value to increase the thin pool by when <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lvm</code>
attempts to autoextend the available space [100 = disabled]</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example:</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.thinp_autoextend_percent<span style="box-sizing:border-box;">=</span>20
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.basesize</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the size to use when creating the base device, which limits the
size of images and containers. The default value is 10G. Note, thin devices
are inherently “sparse”, so a 10G device which is mostly empty doesn’t use
10 GB of space on the pool. However, the filesystem will use more space for
the empty case the larger the device is.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The base device size can be increased at daemon restart which will allow
all future images and containers (based on those new images) to be of the
new base device size.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Examples</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.basesize<span style="box-sizing:border-box;">=</span>50G
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This will increase the base device size to 50G. The Docker daemon will throw an
error if existing base device size is larger than 50G. A user can use
this option to expand the base device size however shrinking is not permitted.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This value affects the system-wide “base” empty filesystem
that may already be initialized and inherited by pulled images. Typically,
a change to this value requires additional steps to take effect:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>service docker stop

<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>rm <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-rf</span> /var/lib/docker

<span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>service docker start
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.loopdatasize</code></h5>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: This option configures devicemapper loopback, which should not
be used in production.</p>
</blockquote>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the size to use when creating the loopback file for the
“data” device which is used for the thin pool. The default size is
100G. The file is sparse, so it will not initially take up this
much space.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.loopdatasize<span style="box-sizing:border-box;">=</span>200G
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.loopmetadatasize</code></h5>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: This option configures devicemapper loopback, which should not
be used in production.</p>
</blockquote>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the size to use when creating the loopback file for the
“metadata” device which is used for the thin pool. The default size
is 2G. The file is sparse, so it will not initially take up
this much space.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.loopmetadatasize<span style="box-sizing:border-box;">=</span>4G
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.fs</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the filesystem type to use for the base device. The supported
options are “ext4” and “xfs”. The default is “xfs”</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.fs<span style="box-sizing:border-box;">=</span>ext4
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.mkfsarg</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies extra mkfs arguments to be used when creating the base device.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> <span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dm.mkfsarg=-O ^has_journal&quot;</span>
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.mountopt</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies extra mount options used when mounting the thin devices.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.mountopt<span style="box-sizing:border-box;">=</span>nodiscard
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.datadev</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">(Deprecated, use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.thinpooldev</code>)</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies a custom blockdevice to use for data for the thin pool.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">If using a block device for device mapper storage, ideally both <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">datadev</code> and
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">metadatadev</code> should be specified to completely avoid using the loopback
device.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.datadev<span style="box-sizing:border-box;">=</span>/dev/sdb1 <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.metadatadev<span style="box-sizing:border-box;">=</span>/dev/sdc1
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.metadatadev</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">(Deprecated, use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.thinpooldev</code>)</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies a custom blockdevice to use for metadata for the thin pool.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">For best performance the metadata should be on a different spindle than the
data, or even better on an SSD.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">If setting up a new metadata pool it is required to be valid. This can be
achieved by zeroing the first 4k to indicate empty metadata, like this:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>dd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">if</span><span style="box-sizing:border-box;">=</span>/dev/zero <span style="box-sizing:border-box;color:rgb(0, 104, 139);">of</span><span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$metadata_dev</span> <span style="box-sizing:border-box;color:rgb(0, 104, 139);">bs</span><span style="box-sizing:border-box;">=</span>4096 <span style="box-sizing:border-box;color:rgb(0, 104, 139);">count</span><span style="box-sizing:border-box;">=</span>1
</code></pre></div></div>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.datadev<span style="box-sizing:border-box;">=</span>/dev/sdb1 <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.metadatadev<span style="box-sizing:border-box;">=</span>/dev/sdc1
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.blocksize</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies a custom blocksize to use for the thin pool. The default
blocksize is 64K.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.blocksize<span style="box-sizing:border-box;">=</span>512K
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.blkdiscard</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Enables or disables the use of <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">blkdiscard</code> when removing devicemapper
devices. This is enabled by default (only) if using loopback devices and is
required to resparsify the loopback file on image/container removal.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Disabling this on loopback can lead to <em style="box-sizing:border-box;">much</em> faster container removal
times, but will make the space used in <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/lib/docker</code> directory not be
returned to the system for other use when containers are removed.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Examples</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.blkdiscard<span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">false</span>
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.override_udev_sync_check</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Overrides the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code> synchronization checks between <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code>.
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code> is the device manager for the Linux kernel.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To view the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code> sync support of a Docker daemon that is using the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code> driver, run:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span>docker info
<span style="box-sizing:border-box;">[</span>...]
Udev Sync Supported: <span style="box-sizing:border-box;color:rgb(101, 139, 0);">true</span>
<span style="box-sizing:border-box;">[</span>...]
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">When <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code> sync support is <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">true</code>, then <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code> and udev can
coordinate the activation and deactivation of devices for containers.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">When <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code> sync support is <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">false</code>, a race condition occurs between
the<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code> during create and cleanup. The race condition
results in errors and failures. (For information on these failures, see
<a href="https://github.com/docker/docker/issues/4036" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">docker#4036</a>)</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To allow the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker</code> daemon to start, regardless of <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code> sync not being
supported, set <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.override_udev_sync_check</code> to true:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.override_udev_sync_check<span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">true</span>
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">When this value is <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">true</code>, the  <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">devicemapper</code> continues and simply warns
you the errors are happening.</p>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: The ideal is to pursue a <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker</code> daemon and environment that does
support synchronizing with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">udev</code>. For further discussion on this
topic, see <a href="https://github.com/docker/docker/issues/4036" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">docker#4036</a>.
Otherwise, set this flag for migrating existing Docker daemons to
a daemon with a supported environment.</p>
</blockquote>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.use_deferred_removal</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Enables use of deferred device removal if <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">libdm</code> and the kernel driver
support the mechanism.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Deferred device removal means that if device is busy when devices are
being removed/deactivated, then a deferred removal is scheduled on
device. And devices automatically go away when last user of the device
exits.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">For example, when a container exits, its associated thin device is removed.
If that device has leaked into some other mount namespace and can’t be
removed, the container exit still succeeds and this option causes the
system to schedule the device for deferred removal. It does not wait in a
loop trying to remove a busy device.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.use_deferred_removal<span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">true</span>
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.use_deferred_deletion</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Enables use of deferred device deletion for thin pool devices. By default,
thin pool device deletion is synchronous. Before a container is deleted,
the Docker daemon removes any associated devices. If the storage driver
can not remove a device, the container deletion fails and daemon returns.</p>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">Error deleting container: Error response from daemon: Cannot destroy container
</code></pre>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To avoid this failure, enable both deferred device deletion and deferred
device removal on the daemon.</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.use_deferred_deletion<span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">true</span> <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.use_deferred_removal<span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">true</span>
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">With these two options enabled, if a device is busy when the driver is
deleting a container, the driver marks the device as deleted. Later, when
the device isn’t in use, the driver deletes it.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">In general it should be safe to enable this option by default. It will help
when unintentional leaking of mount point happens across multiple mount
namespaces.</p>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.min_free_space</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the min free space percent in a thin pool require for new device
creation to succeed. This check applies to both free data space as well
as free metadata space. Valid values are from 0% - 99%. Value 0% disables
free space checking logic. If user does not specify a value for this option,
the Engine uses a default value of 10%.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Whenever a new a thin pool device is created (during <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker pull</code> or during
container creation), the Engine checks if the minimum free space is
available. If sufficient space is unavailable, then device creation fails
and any relevant <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker</code> operation fails.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To recover from this error, you must create more free space in the thin pool
to recover from the error. You can create free space by deleting some images
and containers from the thin pool. You can also add more storage to the thin
pool.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To add more space to a LVM (logical volume management) thin pool, just add
more storage to the volume group container thin pool; this should automatically
resolve any errors. If your configuration uses loop devices, then stop the
Engine daemon, grow the size of loop files and restart the daemon to resolve
the issue.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.min_free_space<span style="box-sizing:border-box;">=</span>10%
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.xfs_nospace_max_retries</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the maximum number of retries XFS should attempt to complete
IO when ENOSPC (no space) error is returned by underlying storage device.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">By default XFS retries infinitely for IO to finish and this can result
in unkillable process. To change this behavior one can set
xfs_nospace_max_retries to say 0 and XFS will not retry IO after getting
ENOSPC and will shutdown filesystem.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.xfs_nospace_max_retries<span style="box-sizing:border-box;">=</span>0
</code></pre></div></div>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dm.libdm_log_level</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the maxmimum <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">libdm</code> log level that will be forwarded to the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd</code> log (as specified by <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--log-level</code>). This option is primarily
intended for debugging problems involving <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">libdm</code>. Using values other than the
defaults may cause false-positive warnings to be logged.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Values specified must fall within the range of valid <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">libdm</code> log levels. At the
time of writing, the following is the list of <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">libdm</code> log levels as well as
their corresponding levels when output by <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">dockerd</code>.</p>

<table style="box-sizing:border-box;font-size:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;border-collapse:collapse;border-spacing:0px;background-color:transparent;border:1px solid rgba(204, 204, 204, 0.29);margin:0px 0px 15px;width:100%;margin-top:20px;margin-bottom:20px;">
  <thead style="box-sizing:border-box;background:rgb(207, 210, 212);">
    <tr style="box-sizing:border-box;">
      <th style="box-sizing:border-box;padding:7px 10px;text-align:left;font-weight:bold;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">libdm</code> Level</th>
      <th style="box-sizing:border-box;padding:7px 10px;text-align:right;font-weight:bold;">Value</th>
      <th style="box-sizing:border-box;padding:7px 10px;text-align:left;font-weight:bold;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--log-level</code></th>
    </tr>
  </thead>
  <tbody style="box-sizing:border-box;">
    <tr style="box-sizing:border-box;">
      <td style="box-sizing:border-box;padding:10px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">_LOG_FATAL</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:right;">2</td>
      <td style="box-sizing:border-box;padding:10px;">error</td>
    </tr>
    <tr style="box-sizing:border-box;background-color:rgb(247, 247, 247);">
      <td style="box-sizing:border-box;padding:10px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">_LOG_ERR</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:right;">3</td>
      <td style="box-sizing:border-box;padding:10px;">error</td>
    </tr>
    <tr style="box-sizing:border-box;">
      <td style="box-sizing:border-box;padding:10px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">_LOG_WARN</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:right;">4</td>
      <td style="box-sizing:border-box;padding:10px;">warn</td>
    </tr>
    <tr style="box-sizing:border-box;background-color:rgb(247, 247, 247);">
      <td style="box-sizing:border-box;padding:10px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">_LOG_NOTICE</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:right;">5</td>
      <td style="box-sizing:border-box;padding:10px;">info</td>
    </tr>
    <tr style="box-sizing:border-box;">
      <td style="box-sizing:border-box;padding:10px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">_LOG_INFO</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:right;">6</td>
      <td style="box-sizing:border-box;padding:10px;">info</td>
    </tr>
    <tr style="box-sizing:border-box;background-color:rgb(247, 247, 247);">
      <td style="box-sizing:border-box;padding:10px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">_LOG_DEBUG</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:right;">7</td>
      <td style="box-sizing:border-box;padding:10px;">debug</td>
    </tr>
  </tbody>
</table>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--log-level</span> debug <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
      <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> dm.libdm_log_level<span style="box-sizing:border-box;">=</span>7
</code></pre></div></div>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">ZFS options</h4>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">zfs.fsname</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Set zfs filesystem under which docker will create its own datasets.
By default docker will pick up the zfs filesystem where docker graph
(<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/lib/docker</code>) is located.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-s</span> zfs <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> zfs.fsname<span style="box-sizing:border-box;">=</span>zroot/docker
</code></pre></div></div>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Btrfs options</h4>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">btrfs.min_space</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the minimum size to use when creating the subvolume which is used
for containers. If user uses disk quota for btrfs when creating or running
a container with <strong style="box-sizing:border-box;font-weight:700;">--storage-opt size</strong> option, docker should ensure the
<strong style="box-sizing:border-box;font-weight:700;">size</strong> cannot be smaller than <strong style="box-sizing:border-box;font-weight:700;">btrfs.min_space</strong>.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-s</span> btrfs <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> btrfs.min_space<span style="box-sizing:border-box;">=</span>10G
</code></pre></div></div>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Overlay2 options</h4>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay2.override_kernel_check</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Overrides the Linux kernel version check allowing overlay2. Support for
specifying multiple lower directories needed by overlay2 was added to the
Linux kernel in 4.0.0. However, some older kernel versions may be patched
to add multiple lower directory support for OverlayFS. This option should
only be used after verifying this support exists in the kernel. Applying
this option on a kernel without this support will cause failures on mount.</p>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">overlay2.size</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Sets the default max size of the container. It is supported only when the
backing fs is <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">xfs</code> and mounted with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">pquota</code> mount option. Under these
conditions the user can pass any size less then the backing fs size.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-s</span> overlay2 <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--storage-opt</span> overlay2.size<span style="box-sizing:border-box;">=</span>1G
</code></pre></div></div>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Windowsfilter options</h4>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">size</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the size to use when creating the sandbox which is used for containers.
Defaults to 20G.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt size=40G
</code></pre>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">LCOW (Linux Containers on Windows) options</h4>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.globalmode</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies whether the daemon instantiates utility VM instances as required 
(recommended and default if omitted), or uses single global utility VM (better
performance, but has security implications and not recommended for production
deployments).</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt lcow.globalmode=false
</code></pre>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.kirdpath</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the folder path to the location of a pair of kernel and initrd files
used for booting a utility VM. Defaults to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">%ProgramFiles%\Linux Containers</code>.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt lcow.kirdpath=c:\path\to\files
</code></pre>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.kernel</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the filename of a kernel file located in the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.kirdpath</code> path.
Defaults to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">bootx64.efi</code>.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt lcow.kernel=kernel.efi
</code></pre>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.initrd</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the filename of an initrd file located in the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.kirdpath</code> path.
Defaults to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">initrd.img</code>.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt lcow.initrd=myinitrd.img
</code></pre>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.bootparameters</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies additional boot parameters for booting utility VMs when in kernel/
initrd mode. Ignored if the utility VM is booting from VHD. These settings
are kernel specific.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt &quot;lcow.bootparameters='option=value'&quot;
</code></pre>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.vhdx</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies a custom VHDX to boot a utility VM, as an alternate to kernel
and initrd booting. Defaults to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">uvm.vhdx</code> under <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.kirdpath</code>.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt lcow.vhdx=custom.vhdx
</code></pre>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.timeout</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the timeout for utility VM operations in seconds. Defaults
to 300.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt lcow.timeout=240
</code></pre>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">lcow.sandboxsize</code></h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Specifies the size in GB to use when creating the sandbox which is used for
containers. Defaults to 20. Cannot be less than 20.</p>

<h6 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(130, 148, 158);margin-top:10px;margin-bottom:10px;font-size:14px;clear:both;">Example</h6>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">C:\&gt; dockerd --storage-opt lcow.sandboxsize=40
</code></pre>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Docker runtime execution options</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The Docker daemon relies on a
<a href="https://github.com/opencontainers/runtime-spec" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">OCI</a> compliant runtime
(invoked via the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">containerd</code> daemon) as its interface to the Linux
kernel <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">namespaces</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cgroups</code>, and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">SELinux</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">By default, the Docker daemon automatically starts <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">containerd</code>. If you want to
control <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">containerd</code> startup, manually start <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">containerd</code> and pass the path to
the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">containerd</code> socket using the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--containerd</code> flag. For example:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--containerd</span> /var/run/dev/docker-containerd.sock
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Runtimes can be registered with the daemon either via the
configuration file or using the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--add-runtime</code> command line argument.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The following is an example adding 2 runtimes via the configuration:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;default-runtime&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runc&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runtimes&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runc&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;path&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runc&quot;</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;">},</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;custom&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;path&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;/usr/local/bin/my-runc-replacement&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runtimeArgs&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
				</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;--debug&quot;</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;">]</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span></code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This is the same example via the command line:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--add-runtime</span> <span style="box-sizing:border-box;color:rgb(0, 104, 139);">runc</span><span style="box-sizing:border-box;">=</span>runc <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--add-runtime</span> <span style="box-sizing:border-box;color:rgb(0, 104, 139);">custom</span><span style="box-sizing:border-box;">=</span>/usr/local/bin/my-runc-replacement
</code></pre></div></div>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note</strong>: Defining runtime arguments via the command line is not supported.</p>
</blockquote>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Options for the runtime</h4>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">You can configure the runtime using options specified
with the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--exec-opt</code> flag. All the flag’s options have the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">native</code> prefix. A
single <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">native.cgroupdriver</code> option is available.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">native.cgroupdriver</code> option specifies the management of the container’s
cgroups. You can only specify <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cgroupfs</code> or <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">systemd</code>. If you specify
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">systemd</code> and it is not available, the system errors out. If you omit the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">native.cgroupdriver</code> option,<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"> cgroupfs</code> is used.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This example sets the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cgroupdriver</code> to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">systemd</code>:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--exec-opt</span> native.cgroupdriver<span style="box-sizing:border-box;">=</span>systemd
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Setting this option applies to all containers the daemon launches.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Also Windows Container makes use of <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--exec-opt</code> for special purpose. Docker user
can specify default container isolation technology with this, for example:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(85, 85, 85);">&gt;</span> dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--exec-opt</span> <span style="box-sizing:border-box;color:rgb(0, 104, 139);">isolation</span><span style="box-sizing:border-box;">=</span>hyperv
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Will make <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">hyperv</code> the default isolation technology on Windows. If no isolation
value is specified on daemon start, on Windows client, the default is
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">hyperv</code>, and on Windows server, the default is <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">process</code>.</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Daemon DNS options</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To set the DNS server for all Docker containers, use:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--dns</span> 8.8.8.8
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To set the DNS search domain for all Docker containers, use:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--dns-search</span> example.com
</code></pre></div></div>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Allow push of nondistributable artifacts</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Some images (e.g., Windows base images) contain artifacts whose distribution is
restricted by license. When these images are pushed to a registry, restricted
artifacts are not included.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To override this behavior for specific registries, use the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--allow-nondistributable-artifacts</code> option in one of the following forms:</p>

<ul style="box-sizing:border-box;margin-bottom:10px;margin-top:10px;">
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--allow-nondistributable-artifacts myregistry:5000</code> tells the Docker daemon
to push nondistributable artifacts to myregistry:5000.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--allow-nondistributable-artifacts 10.1.0.0/16</code> tells the Docker daemon to
push nondistributable artifacts to all registries whose resolved IP address
is within the subnet described by the CIDR syntax.</li>
</ul>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This option can be used multiple times.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This option is useful when pushing images containing nondistributable artifacts
to a registry on an air-gapped network so hosts on that network can pull the
images without connecting to another server.</p>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Warning</strong>: Nondistributable artifacts typically have restrictions on how
and where they can be distributed and shared. Only use this feature to push
artifacts to private registries and ensure that you are in compliance with
any terms that cover redistributing nondistributable artifacts.</p>
</blockquote>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Insecure registries</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Docker considers a private registry either secure or insecure. In the rest of
this section, <em style="box-sizing:border-box;">registry</em> is used for <em style="box-sizing:border-box;">private registry</em>, and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">myregistry:5000</code>
is a placeholder example for a private registry.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">A secure registry uses TLS and a copy of its CA certificate is placed on the
Docker host at <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/etc/docker/certs.d/myregistry:5000/ca.crt</code>. An insecure
registry is either not using TLS (i.e., listening on plain text HTTP), or is
using TLS with a CA certificate not known by the Docker daemon. The latter can
happen when the certificate was not found under
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/etc/docker/certs.d/myregistry:5000/</code>, or if the certificate verification
failed (i.e., wrong CA).</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">By default, Docker assumes all, but local (see local registries below),
registries are secure. Communicating with an insecure registry is not possible
if Docker assumes that registry is secure. In order to communicate with an
insecure registry, the Docker daemon requires <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--insecure-registry</code> in one of
the following two forms:</p>

<ul style="box-sizing:border-box;margin-bottom:10px;margin-top:10px;">
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--insecure-registry myregistry:5000</code> tells the Docker daemon that
myregistry:5000 should be considered insecure.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--insecure-registry 10.1.0.0/16</code> tells the Docker daemon that all registries
whose domain resolve to an IP address is part of the subnet described by the
CIDR syntax, should be considered insecure.</li>
</ul>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The flag can be used multiple times to allow multiple registries to be marked
as insecure.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">If an insecure registry is not marked as insecure, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker pull</code>,
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker push</code>, and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker search</code> will result in an error message prompting
the user to either secure or pass the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--insecure-registry</code> flag to the Docker
daemon as described above.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Local registries, whose IP address falls in the 127.0.0.0/8 range, are
automatically marked as insecure as of Docker 1.3.2. It is not recommended to
rely on this, as it may change in the future.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Enabling <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--insecure-registry</code>, i.e., allowing un-encrypted and/or untrusted
communication, can be useful when running a local registry.  However,
because its use creates security vulnerabilities it should ONLY be enabled for
testing purposes.  For increased security, users should add their CA to their
system’s list of trusted CAs instead of enabling <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--insecure-registry</code>.</p>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Legacy Registries</h4>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Starting with Docker 17.12, operations against registries supporting only the 
legacy v1 protocol are no longer supported. Specifically, the daemon will not
attempt <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">push</code>, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">pull</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">login</code> to v1 registries. The exception to this is
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">search</code> which can still be performed on v1 registries.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">disable-legacy-registry</code> configuration option has been removed and, when
used, will produce an error on daemon startup.</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Running a Docker daemon behind an HTTPS_PROXY</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">When running inside a LAN that uses an <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">HTTPS</code> proxy, the Docker Hub
certificates will be replaced by the proxy’s certificates. These certificates
need to be added to your Docker host’s configuration:</p>

<ol style="box-sizing:border-box;margin-top:0px;margin-bottom:10px;">
  <li style="box-sizing:border-box;">Install the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">ca-certificates</code> package for your distribution</li>
  <li style="box-sizing:border-box;">Ask your network admin for the proxy’s CA certificate and append them to
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/etc/pki/tls/certs/ca-bundle.crt</code></li>
  <li style="box-sizing:border-box;">Then start your Docker daemon with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">HTTPS_PROXY=http://username:password@proxy:port/ dockerd</code>.
The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">username:</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">password@</code> are optional - and are only needed if your
proxy is set up to require authentication.</li>
</ol>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This will only add the proxy and authentication to the Docker daemon’s requests -
your <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker build</code>s and running containers will need extra configuration to
use the proxy</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Default <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">ulimit</code> settings</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--default-ulimit</code> allows you to set the default <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">ulimit</code> options to use for
all containers. It takes the same options as <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--ulimit</code> for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker run</code>. If
these defaults are not set, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">ulimit</code> settings will be inherited, if not set on
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker run</code>, from the Docker daemon. Any <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--ulimit</code> options passed to
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker run</code> will overwrite these defaults.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Be careful setting <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">nproc</code> with the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">ulimit</code> flag as <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">nproc</code> is designed by Linux to
set the maximum number of processes available to a user, not to a container. For details
please check the <a href="https://docs.docker.com/engine/reference/commandline/run/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">run</a> reference.</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Node discovery</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cluster-advertise</code> option specifies the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">host:port</code> or <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">interface:port</code>
combination that this particular daemon instance should use when advertising
itself to the cluster. The daemon is reached by remote hosts through this value.
If you  specify an interface, make sure it includes the IP address of the actual
Docker host. For Engine installation created through <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker-machine</code>, the
interface is typically <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">eth1</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The daemon uses <a href="https://github.com/docker/libkv/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">libkv</a> to advertise
the node within the cluster. Some key-value backends support mutual
TLS. To configure the client TLS settings used by the daemon can be configured
using the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cluster-store-opt</code> flag, specifying the paths to PEM encoded
files. For example:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
    <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--cluster-advertise</span> 192.168.1.2:2376 <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
    <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--cluster-store</span> etcd://192.168.1.2:2379 <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
    <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--cluster-store-opt</span> kv.cacertfile<span style="box-sizing:border-box;">=</span>/path/to/ca.pem <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
    <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--cluster-store-opt</span> kv.certfile<span style="box-sizing:border-box;">=</span>/path/to/cert.pem <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
    <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--cluster-store-opt</span> kv.keyfile<span style="box-sizing:border-box;">=</span>/path/to/key.pem
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The currently supported cluster store options are:</p>

<table style="box-sizing:border-box;font-size:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;border-collapse:collapse;border-spacing:0px;background-color:transparent;border:1px solid rgba(204, 204, 204, 0.29);margin:0px 0px 15px;width:100%;margin-top:20px;margin-bottom:20px;">
  <thead style="box-sizing:border-box;background:rgb(207, 210, 212);">
    <tr style="box-sizing:border-box;">
      <th style="box-sizing:border-box;padding:7px 10px;text-align:left;font-weight:bold;">Option</th>
      <th style="box-sizing:border-box;padding:7px 10px;text-align:left;font-weight:bold;">Description</th>
    </tr>
  </thead>
  <tbody style="box-sizing:border-box;">
    <tr style="box-sizing:border-box;">
      <td style="box-sizing:border-box;padding:10px;text-align:left;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">discovery.heartbeat</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:left;">Specifies the heartbeat timer in seconds which is used by the daemon as a <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">keepalive</code> mechanism to make sure discovery module treats the node as alive in the cluster. If not configured, the default value is 20 seconds.</td>
    </tr>
    <tr style="box-sizing:border-box;background-color:rgb(247, 247, 247);">
      <td style="box-sizing:border-box;padding:10px;text-align:left;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">discovery.ttl</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:left;">Specifies the TTL (time-to-live) in seconds which is used by the discovery module to timeout a node if a valid heartbeat is not received within the configured ttl value. If not configured, the default value is 60 seconds.</td>
    </tr>
    <tr style="box-sizing:border-box;">
      <td style="box-sizing:border-box;padding:10px;text-align:left;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">kv.cacertfile</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:left;">Specifies the path to a local file with PEM encoded CA certificates to trust.</td>
    </tr>
    <tr style="box-sizing:border-box;background-color:rgb(247, 247, 247);">
      <td style="box-sizing:border-box;padding:10px;text-align:left;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">kv.certfile</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:left;">Specifies the path to a local file with a PEM encoded certificate. This certificate is used as the client cert for communication with the Key/Value store.</td>
    </tr>
    <tr style="box-sizing:border-box;">
      <td style="box-sizing:border-box;padding:10px;text-align:left;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">kv.keyfile</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:left;">Specifies the path to a local file with a PEM encoded private key. This private key is used as the client key for communication with the Key/Value store.</td>
    </tr>
    <tr style="box-sizing:border-box;background-color:rgb(247, 247, 247);">
      <td style="box-sizing:border-box;padding:10px;text-align:left;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">kv.path</code></td>
      <td style="box-sizing:border-box;padding:10px;text-align:left;">Specifies the path in the Key/Value store. If not configured, the default value is ‘docker/nodes’.</td>
    </tr>
  </tbody>
</table>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Access authorization</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Docker’s access authorization can be extended by authorization plugins that your
organization can purchase or build themselves. You can install one or more
authorization plugins when you start the Docker <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">daemon</code> using the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--authorization-plugin=PLUGIN_ID</code> option.</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--authorization-plugin</span><span style="box-sizing:border-box;">=</span>plugin1 <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--authorization-plugin</span><span style="box-sizing:border-box;">=</span>plugin2,...
</code></pre></div></div>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">PLUGIN_ID</code> value is either the plugin’s name or a path to its specification
file. The plugin’s implementation determines whether you can specify a name or
path. Consult with your Docker administrator to get information about the
plugins available to you.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Once a plugin is installed, requests made to the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">daemon</code> through the
command line or Docker’s Engine API are allowed or denied by the plugin.
If you have multiple plugins installed, each plugin, in order, must
allow the request for it to complete.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">For information about how to create an authorization plugin, see <a href="https://docs.docker.com/engine/extend/plugins_authorization/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">authorization
plugin</a> section in the Docker extend section of this documentation.</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Daemon user namespace options</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The Linux kernel
<a href="http://man7.org/linux/man-pages/man7/user_namespaces.7.html" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">user namespace support</a>
provides additional security by enabling a process, and therefore a container,
to have a unique range of user and group IDs which are outside the traditional
user and group range utilized by the host system. Potentially the most important
security improvement is that, by default, container processes running as the
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">root</code> user will have expected administrative privilege (with some restrictions)
inside the container but will effectively be mapped to an unprivileged <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">uid</code> on
the host.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">For details about how to use this feature, as well as limitations, see
<a href="https://docs.docker.com/engine/security/userns-remap/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">Isolate containers with a user namespace</a>.</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Miscellaneous options</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">IP masquerading uses address translation to allow containers without a public
IP to talk to other machines on the Internet. This may interfere with some
network topologies and can be disabled with <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--ip-masq=false</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Docker supports softlinks for the Docker data directory (<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/lib/docker</code>) and
for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/lib/docker/tmp</code>. The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">DOCKER_TMPDIR</code> and the data directory can be
set like this:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">DOCKER_TMPDIR=/mnt/disk2/tmp /usr/local/bin/dockerd -D -g /var/lib/docker -H unix:// &gt; /var/lib/docker-machine/docker.log 2&gt;&amp;1
# or
export DOCKER_TMPDIR=/mnt/disk2/tmp
/usr/local/bin/dockerd -D -g /var/lib/docker -H unix:// &gt; /var/lib/docker-machine/docker.log 2&gt;&amp;1
</code></pre></div></div>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Default cgroup parent</h4>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent</code> option allows you to set the default cgroup parent
to use for containers. If this option is not set, it defaults to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/docker</code> for
fs cgroup driver and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">system.slice</code> for systemd cgroup driver.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">If the cgroup has a leading forward slash (<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/</code>), the cgroup is created
under the root cgroup, otherwise the cgroup is created under the daemon
cgroup.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Assuming the daemon is running in cgroup <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">daemoncgroup</code>,
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent=/foobar</code> creates a cgroup in
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/sys/fs/cgroup/memory/foobar</code>, whereas using <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent=foobar</code>
creates the cgroup in <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/sys/fs/cgroup/memory/daemoncgroup/foobar</code></p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The systemd cgroup driver has different rules for <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent</code>. Systemd
represents hierarchy by slice and the name of the slice encodes the location in
the tree. So <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent</code> for systemd cgroups should be a slice name. A
name can consist of a dash-separated series of names, which describes the path
to the slice from the root slice. For example, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent=user-a-b.slice</code>
means the memory cgroup for the container is created in
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/sys/fs/cgroup/memory/user.slice/user-a.slice/user-a-b.slice/docker-&lt;id&gt;.scope</code>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This setting can also be set per container, using the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent</code>
option on <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker create</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker run</code>, and takes precedence over
the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cgroup-parent</code> option on the daemon.</p>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Daemon metrics</h4>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--metrics-addr</code> option takes a tcp address to serve the metrics API.
This feature is still experimental, therefore, the daemon must be running in experimental
mode for this feature to work.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">To serve the metrics API on localhost:1337 you would specify <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--metrics-addr 127.0.0.1:1337</code>
allowing you to make requests on the API at <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">127.0.0.1:1337/metrics</code> to receive metrics in the
<a href="https://prometheus.io/docs/instrumenting/exposition_formats/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">prometheus</a> format.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">If you are running a prometheus server you can add this address to your scrape configs
to have prometheus collect metrics on Docker.  For more information
on prometheus you can view the website <a href="https://prometheus.io/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">here</a>.</p>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">scrape_configs:
  - job_name: 'docker'
    static_configs:
      - targets: ['127.0.0.1:1337']
</code></pre>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Please note that this feature is still marked as experimental as metrics and metric
names could change while this feature is still in experimental.  Please provide
feedback on what you would like to see collected in the API.</p>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Node Generic Resources</h4>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--node-generic-resources</code> option takes a list of key-value
pair (<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">key=value</code>) that allows you to advertise user defined resources
in a swarm cluster.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The current expected use case is to advertise NVIDIA GPUs so that services
requesting <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">NVIDIA-GPU=[0-16]</code> can land on a node that has enough GPUs for
the task to run.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Example of usage:</p>
<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;node-generic-resources&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;NVIDIA-GPU=UUID1&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;NVIDIA-GPU=UUID2&quot;</span><span style="box-sizing:border-box;">]</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span></code></pre></div></div>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Daemon configuration file</h3>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--config-file</code> option allows you to set any configuration option
for the daemon in a JSON format. This file uses the same flag names as keys,
except for flags that allow several entries, where it uses the plural
of the flag name, e.g., <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">labels</code> for the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">label</code> flag.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The options set in the configuration file must not conflict with options set
via flags. The docker daemon fails to start if an option is duplicated between
the file and the flags, regardless their value. We do this to avoid
silently ignore changes introduced in configuration reloads.
For example, the daemon fails to start if you set daemon labels
in the configuration file and also set daemon labels via the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--label</code> flag.
Options that are not present in the file are ignored when the daemon starts.</p>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;">On Linux</h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The default location of the configuration file on Linux is
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/etc/docker/daemon.json</code>. The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--config-file</code> flag can be used to specify a
 non-default location.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This is a full example of the allowed configuration options on Linux:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;authorization-plugins&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;data-root&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dns&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dns-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dns-search&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;exec-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;exec-root&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;experimental&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;storage-driver&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;storage-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;labels&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;live-restore&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">true</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;log-driver&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;log-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{},</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;mtu&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">0</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;pidfile&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;cluster-store&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;cluster-store-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{},</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;cluster-advertise&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;max-concurrent-downloads&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">3</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;max-concurrent-uploads&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">5</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;default-shm-size&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;64M&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;shutdown-timeout&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">15</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;debug&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">true</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;hosts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;log-level&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tls&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">true</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlsverify&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">true</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlscacert&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlscert&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlskey&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;swarm-default-advertise-addr&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;api-cors-header&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;selinux-enabled&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;userns-remap&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;group&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;cgroup-parent&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;default-ulimits&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{},</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;init&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;init-path&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;/usr/libexec/docker-init&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;ipv6&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;iptables&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;ip-forward&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;ip-masq&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;userland-proxy&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;userland-proxy-path&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;/usr/libexec/docker-proxy&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;ip&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;0.0.0.0&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;bridge&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;bip&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;fixed-cidr&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;fixed-cidr-v6&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;default-gateway&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;default-gateway-v6&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;icc&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;raw-logs&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;allow-nondistributable-artifacts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;registry-mirrors&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;seccomp-profile&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;insecure-registries&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;no-new-privileges&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;default-runtime&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runc&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;oom-score-adjust&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">-500</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;node-generic-resources&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;NVIDIA-GPU=UUID1&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;NVIDIA-GPU=UUID2&quot;</span><span style="box-sizing:border-box;">],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runtimes&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;cc-runtime&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;path&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;/usr/bin/cc-runtime&quot;</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;">},</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;custom&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;path&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;/usr/local/bin/my-runc-replacement&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;runtimeArgs&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
				</span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;--debug&quot;</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
			</span><span style="box-sizing:border-box;">]</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
		</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
	</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span></code></pre></div></div>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note:</strong> You cannot set options in <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">daemon.json</code> that have already been set on
daemon startup as a flag.
On systems that use <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">systemd</code> to start the Docker daemon, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-H</code> is already set, so
you cannot use the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">hosts</code> key in <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">daemon.json</code> to add listening addresses.
See https://docs.docker.com/engine/admin/systemd/#custom-docker-daemon-options for how
to accomplish this task with a systemd drop-in file.</p>
</blockquote>

<h5 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;">On Windows</h5>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The default location of the configuration file on Windows is
 <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">%programdata%\docker\config\daemon.json</code>. The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--config-file</code> flag can be
 used to specify a non-default location.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This is a full example of the allowed configuration options on Windows:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;">{</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;authorization-plugins&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;data-root&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dns&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dns-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;dns-search&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;exec-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;experimental&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;storage-driver&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;storage-opts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;labels&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;log-driver&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;mtu&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">0</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;pidfile&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;cluster-store&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;cluster-advertise&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;max-concurrent-downloads&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">3</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;max-concurrent-uploads&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">5</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;shutdown-timeout&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(180, 82, 205);">15</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;debug&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">true</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;hosts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;log-level&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlsverify&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">true</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlscacert&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlscert&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;tlskey&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;swarm-default-advertise-addr&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;group&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;default-ulimits&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">{},</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;bridge&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;fixed-cidr&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;&quot;</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;raw-logs&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;color:rgb(139, 0, 139);">false</span><span style="box-sizing:border-box;">,</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;allow-nondistributable-artifacts&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;registry-mirrors&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[],</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
    </span><span style="box-sizing:border-box;color:rgb(205, 85, 85);">&quot;insecure-registries&quot;</span><span style="box-sizing:border-box;">:</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);"> </span><span style="box-sizing:border-box;">[]</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span><span style="box-sizing:border-box;">}</span><span style="box-sizing:border-box;color:rgb(187, 187, 187);">
</span></code></pre></div></div>

<h4 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:10px;margin-bottom:10px;font-size:16px;clear:both;text-transform:uppercase;">Configuration reload behavior</h4>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Some options can be reconfigured when the daemon is running without requiring
to restart the process. We use the <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">SIGHUP</code> signal in Linux to reload, and a global event
in Windows with the key <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">Global\docker-daemon-config-$PID</code>. The options can
be modified in the configuration file but still will check for conflicts with
the provided flags. The daemon fails to reconfigure itself
if there are conflicts, but it won’t stop execution.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The list of currently supported options that can be reconfigured is this:</p>

<ul style="box-sizing:border-box;margin-bottom:10px;margin-top:10px;">
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">debug</code>: it changes the daemon to debug mode when set to true.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cluster-store</code>: it reloads the discovery store with the new address.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cluster-store-opts</code>: it uses the new options to reload the discovery store.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cluster-advertise</code>: it modifies the address advertised after reloading.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">labels</code>: it replaces the daemon labels with a new set of labels.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">live-restore</code>: Enables <a href="https://docs.docker.com/engine/admin/live-restore/" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">keeping containers alive during daemon downtime</a>.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">max-concurrent-downloads</code>: it updates the max concurrent downloads for each pull.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">max-concurrent-uploads</code>: it updates the max concurrent uploads for each push.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">default-runtime</code>: it updates the runtime to be used if not is
specified at container creation. It defaults to “default” which is
the runtime shipped with the official docker packages.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">runtimes</code>: it updates the list of available OCI runtimes that can
be used to run containers</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">authorization-plugin</code>: specifies the authorization plugins to use.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">allow-nondistributable-artifacts</code>: Replaces the set of registries to which the daemon will push nondistributable artifacts with a new set of registries.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">insecure-registries</code>: it replaces the daemon insecure registries with a new set of insecure registries. If some existing insecure registries in daemon’s configuration are not in newly reloaded insecure resgitries, these existing ones will be removed from daemon’s config.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">registry-mirrors</code>: it replaces the daemon registry mirrors with a new set of registry mirrors. If some existing registry mirrors in daemon’s configuration are not in newly reloaded registry mirrors, these existing ones will be removed from daemon’s config.</li>
</ul>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Updating and reloading the cluster configurations such as <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cluster-store</code>,
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cluster-advertise</code> and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cluster-store-opts</code> will take effect only if
these configurations were not previously configured. If <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cluster-store</code>
has been provided in flags and <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cluster-advertise</code> not, <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">cluster-advertise</code>
can be added in the configuration file without accompanied by <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--cluster-store</code>.
Configuration reload will log a warning message if it detects a change in
previously configured cluster configurations.</p>

<h3 style="box-sizing:border-box;font-family:&quot;Geomanist Book&quot;, sans-serif;font-weight:500;line-height:26px;color:rgb(51, 68, 76);margin-top:20px;margin-bottom:10px;font-size:22px;clear:both;">Run multiple daemons</h3>

<blockquote style="box-sizing:border-box;padding:10px 20px;margin:0px 0px 20px;font-size:17.5px;border-left:5px solid rgb(238, 238, 238);border-left-color:rgb(20, 136, 198);">
  <p style="box-sizing:border-box;margin:10px 0px;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;margin-bottom:0px;color:inherit;margin-top:0px;font-weight:inherit;"><span style="color:inherit;font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;font-weight:inherit;"></span><strong style="box-sizing:border-box;font-weight:700;">Note:</strong> Running multiple daemons on a single host is considered as “experimental”. The user should be aware of
unsolved problems. This solution may not work properly in some cases. Solutions are currently under development
and will be delivered in the near future.</p>
</blockquote>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">This section describes how to run multiple Docker daemons on a single host. To
run multiple daemons, you must configure each daemon so that it does not
conflict with other daemons on the same host. You can set these options either
by providing them as flags, or by using a <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">daemon configuration file</a>.</p>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">The following daemon options must be configured for each daemon:</p>

<pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-b, --bridge=                          Attach containers to a network bridge
--exec-root=/var/run/docker            Root of the Docker execdriver
--data-root=/var/lib/docker            Root of persisted Docker data
-p, --pidfile=/var/run/docker.pid      Path to use for daemon PID file
-H, --host=[]                          Daemon socket(s) to connect to
--iptables=true                        Enable addition of iptables rules
--config-file=/etc/docker/daemon.json  Daemon configuration file
--tlscacert=&quot;~/.docker/ca.pem&quot;         Trust certs signed only by this CA
--tlscert=&quot;~/.docker/cert.pem&quot;         Path to TLS certificate file
--tlskey=&quot;~/.docker/key.pem&quot;           Path to TLS key file
</code></pre>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">When your daemons use different values for these flags, you can run them on the same host without any problems.
It is very important to properly understand the meaning of those options and to use them correctly.</p>

<ul style="box-sizing:border-box;margin-bottom:10px;margin-top:10px;">
  <li style="box-sizing:border-box;font-size:14px;">The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-b, --bridge=</code> flag is set to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">docker0</code> as default bridge network. It is created automatically when you install Docker.
If you are not using the default, you must create and configure the bridge manually or just set it to ‘none’: <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--bridge=none</code></li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--exec-root</code> is the path where the container state is stored. The default value is <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/run/docker</code>. Specify the path for
your running daemon here.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--data-root</code> is the path where persisted data such as images, volumes, and
cluster state are stored. The default value is <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/lib/docker</code>. To avoid any
conflict with other daemons, set this parameter separately for each daemon.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">-p, --pidfile=/var/run/docker.pid</code> is the path where the process ID of the daemon is stored. Specify the path for your
pid file here.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--host=[]</code> specifies where the Docker daemon will listen for client connections. If unspecified, it defaults to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">/var/run/docker.sock</code>.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--iptables=false</code> prevents the Docker daemon from adding iptables rules. If
multiple daemons manage iptables rules, they may overwrite rules set by another
daemon. Be aware that disabling this option requires you to manually add
iptables rules to expose container ports. If you prevent Docker from adding
iptables rules, Docker will also not add IP masquerading rules, even if you set
<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--ip-masq</code> to <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">true</code>. Without IP masquerading rules, Docker containers will not be
able to connect to external hosts or the internet when using network other than
default bridge.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--config-file=/etc/docker/daemon.json</code> is the path where configuration file is stored. You can use it instead of
daemon flags. Specify the path for each daemon.</li>
  <li style="box-sizing:border-box;font-size:14px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--tls*</code> Docker daemon supports <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--tlsverify</code> mode that enforces encrypted and authenticated remote connections.
The <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:90%;padding:3px 7px;border-radius:2px;overflow-x:scroll;white-space:nowrap;margin:15px 0px;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);">--tls*</code> options enable use of specific certificates for individual daemons.</li>
</ul>

<p style="box-sizing:border-box;margin:10px 0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;">Example script for a separate “bootstrap” instance of the Docker daemon without network:</p>

<div style="box-sizing:border-box;margin:15px 0px;"><div style="box-sizing:border-box;"><pre style="line-height:1.42857;overflow:auto;font-size:13px;box-sizing:border-box;display:block;word-wrap:break-word;margin:0px 0px 10px;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(51, 51, 51);border-radius:4px;word-break:normal;padding:20.5px;background-color:rgb(245, 248, 250);border:0px;"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;font-size:inherit;padding:0px;border-radius:0px;white-space:pre;overflow-x:auto;overflow-wrap:normal;color:rgb(12, 81, 118);background-color:rgb(245, 248, 250);"><span style="box-sizing:border-box;color:rgb(0, 104, 139);">$ </span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">sudo </span>dockerd <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
        <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-H</span> unix:///var/run/docker-bootstrap.sock <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
        <span style="box-sizing:border-box;color:rgb(139, 0, 139);">-p</span> /var/run/docker-bootstrap.pid <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
        <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--iptables</span><span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">false</span> <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
        <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--ip-masq</span><span style="box-sizing:border-box;">=</span><span style="box-sizing:border-box;color:rgb(101, 139, 0);">false</span> <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
        <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--bridge</span><span style="box-sizing:border-box;">=</span>none <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
        <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--data-root</span><span style="box-sizing:border-box;">=</span>/var/lib/docker-bootstrap <span style="box-sizing:border-box;color:rgb(205, 85, 85);">\</span>
        <span style="box-sizing:border-box;color:rgb(139, 0, 139);">--exec-root</span><span style="box-sizing:border-box;">=</span>/var/run/docker-bootstrap
</code></pre></div></div>

							
							
							
							
							<span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;padding-right:10px;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:400;line-height:1;"></span></span><span style="box-sizing:border-box;vertical-align:2px;"><a href="https://docs.docker.com/glossary/?term=container" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">container</a>, <a href="https://docs.docker.com/glossary/?term=daemon" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">daemon</a>, <a href="https://docs.docker.com/glossary/?term=runtime" style="box-sizing:border-box;background-color:transparent;color:rgb(0, 144, 200);text-decoration:none;outline:none;">runtime</a></span>
							
							
              
							
						  <div style="box-sizing:border-box;color:rgb(185, 194, 204);text-align:center;margin-top:150px;visibility:visible;">
								<div style="box-sizing:border-box;display:inline-block;"><div style="font-size:inherit;box-sizing:border-box;text-align:center;color:#333333;font-stretch:inherit;font-style:inherit;line-height:inherit;font-family:inherit;font-weight:inherit;font-variant:inherit;font:normal normal 12px/20px verdana;">Rate this page:</div><p style="box-sizing:border-box;margin:0px;color:rgb(51, 68, 76);font-family:&quot;Open Sans&quot;, sans-serif;font-size:14px;line-height:24px;padding:0px;clear:both;"></p><div style="box-sizing:border-box;float:left;"><div style="box-sizing:border-box;background-size:32px 32px !important;cursor:pointer;width:16px;height:16px;line-height:16px;background:url(https://polldaddy.com/images/ratings/nero-hand-sml.png) bottom left;float:left;padding:0px;margin:0px;"> </div><div style="box-sizing:border-box;text-align:center;font:normal normal 12px/20px verdana;color:#333333;float:left;padding:0px 4px;">42</div><div style="box-sizing:border-box;background-size:32px 32px !important;cursor:pointer;width:16px;height:16px;line-height:16px;background:url(https://polldaddy.com/images/ratings/nero-hand-sml.png) bottom right;float:left;padding:0px;margin:0px;"> </div><div style="box-sizing:border-box;text-align:center;font:normal normal 12px/20px verdana;color:#333333;float:left;padding:0px 4px;">42</div></div><span style="box-sizing:border-box;float:left;"> </span></div>
								
							</div>
							
						</div></span></div></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 