<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8" /><meta name="renderer" content="webkit" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" /><link rel="shortcut icon" href="/favicon.ico?v=1.0.8" type="image/x-icon" /><link rel="pingback" href="http://Thomas-YangHT.github.io/man.linuxde.net/xmlrpc.php" /><link href="http://Thomas-YangHT.github.io/man.linuxde.net/wp-content/themes/pc_mobile/style.css?v=1.0.8" rel="stylesheet" type="text/css" /><title>route命令_Linux route 命令用法详解：显示并设置Linux中静态路由表</title><link rel='canonical' href='http://Thomas-YangHT.github.io/man.linuxde.net/route' /></head><body><div id="header" class="clearfix"><h2 id="logo" class="left"><a title="Linux命令大全" href="http://Thomas-YangHT.github.io/man.linuxde.net/">Linux命令大全</a></h2><ul id="menu-main" class="right toggle-target"><li id="menu-item-4" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-4"><a href="http://Thomas-YangHT.github.io/man.linuxde.net/">首页搜索</a></li><li id="menu-item-2474" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2474"><a href="http://www.linuxprobe.com/">Linux书籍</a></li><li id="menu-item-6" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6"><a href="http://Thomas-YangHT.github.io/man.linuxde.net/par/2">系统管理</a></li><li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-7"><a href="http://Thomas-YangHT.github.io/man.linuxde.net/par/5">网络管理</a></li><li id="menu-item-8" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8"><a href="http://Thomas-YangHT.github.io/man.linuxde.net/par/4">软件·打印·开发·工具</a></li><li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a href="http://Thomas-YangHT.github.io/man.linuxde.net/par/1">文件和目录管理</a></li><li id="menu-item-10" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10"><a href="http://Thomas-YangHT.github.io/man.linuxde.net/par/3">硬件·内核·Shell·监测</a></li></ul> <span id="menu-main-toggle" class="toggle-btn" toggle-target="#menu-main"></span></div><div id="main-single" class="main-layout clearfix"><div class="right arc-wrap"><div id="position-wrap" class="clearfix"><div class="position left">当前位置：<a href="http://Thomas-YangHT.github.io/man.linuxde.net">首页</a> &raquo; <a href="http://Thomas-YangHT.github.io/man.linuxde.net/par/5" rel="category tag">网络管理</a> &raquo; route</div></div><div id="title" class="clearfix"><h1 class="left">route命令</h1><div class="right"> <a href="http://Thomas-YangHT.github.io/man.linuxde.net/sub/%e7%bd%91%e7%bb%9c%e9%85%8d%e7%bd%ae" rel="tag">网络配置</a></div></div><div id="ad-arc-top" class="ad"></div><div id="arc-body"><p> <strong>route命令</strong>用来显示并设置Linux内核中的网络路由表，route命令设置的路由主要是静态路由。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。</p><p> 在Linux系统中设置路由通常是为了解决以下问题：该Linux系统在一个局域网中，局域网中有一个网关，能够让机器访问Internet，那么就需要将这台机器的<span class='wp_keywordlink'><a href="http://Thomas-YangHT.github.io/man.linuxde.net/ip" title="ip命令" target="_blank">ip</a></span>地址设置为Linux机器的默认路由。要注意的是，直接在命令行下执行route命令来添加路由，不会永久保存，当网卡重启或者机器重启之后，该路由就失效了；可以在<code>/etc/rc.local</code>中添加route命令来保证该路由设置永久有效。</p><h3> 语法<br /></h3><pre>
route(选项)(参数)</pre><h3> 选项<br /></h3><pre>
-A：设置地址类型；
-C：打印将Linux核心的路由缓存；
-v：详细信息模式；
-n：不执行DNS反向查找，直接显示数字形式的IP地址；
-e：<span class='wp_keywordlink'><a href="http://Thomas-YangHT.github.io/man.linuxde.net/netstat" title="netstat命令" target="_blank">netstat</a></span>格式显示路由表；
-net：到一个网络的路由表；
-<span class='wp_keywordlink'><a href="http://Thomas-YangHT.github.io/man.linuxde.net/host" title="host命令" target="_blank">host</a></span>：到一个主机的路由表。</pre><h3> 参数<br /></h3><pre>
Add：增加指定的路由记录；
Del：删除指定的路由记录；
Target：目的网络或目的主机；
gw：设置默认网关；
mss：设置TCP的最大区块长度（MSS），单位MB；
window：指定通过路由表的TCP连接的TCP窗口大小；
dev：路由记录所表示的网络接口。</pre><h3> 实例<br /></h3><p> <strong>显示当前路由：</strong></p><pre>
<span style="color:#FF0000;">[root@localhost ~]# route</span>
Kernel IP routing table
Destination&nbsp;&nbsp;&nbsp;&nbsp; Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Flags Metric Ref&nbsp;&nbsp;&nbsp; Use Iface
112.124.12.0&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 255.255.252.0&nbsp;&nbsp; U&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 eth1
10.160.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 255.255.240.0&nbsp;&nbsp; U&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 eth0
192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp; 10.160.15.247&nbsp;&nbsp; 255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp; UG&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 eth0
172.16.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10.160.15.247&nbsp;&nbsp; 255.240.0.0&nbsp;&nbsp;&nbsp;&nbsp; UG&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 eth0
10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10.160.15.247&nbsp;&nbsp; 255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UG&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 eth0
<span style="color:#006400;">default</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 112.124.15.247&nbsp; 0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UG&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 eth1

<span style="color:#FF0000;">[root@localhost ~]# route -n</span>
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
112.124.12.0    0.0.0.0         255.255.252.0   U     0      0        0 eth1
10.160.0.0      0.0.0.0         255.255.240.0   U     0      0        0 eth0
192.168.0.0     10.160.15.247   255.255.0.0     UG    0      0        0 eth0
172.16.0.0      10.160.15.247   255.240.0.0     UG    0      0        0 eth0
10.0.0.0        10.160.15.247   255.0.0.0       UG    0      0        0 eth0
0.0.0.0         112.124.15.247  0.0.0.0         UG    0      0        0 eth1</pre><p> 其中Flags为路由标志，标记当前网络节点的状态，Flags标志说明：</p><ul><li> U Up表示此路由当前为启动状态。</li><li> H Host，表示此网关为一主机。</li><li> G Gateway，表示此网关为一路由器。</li><li> R Reinstate Route，使用动态路由重新初始化的路由。</li><li> D Dynamically,此路由是动态性地写入。</li><li> M Modified，此路由是由路由守护程序或导向器动态修改。</li><li> ! 表示此路由当前为关闭状态。</li></ul><p> <strong>添加网关/设置网关：</strong></p><pre>
route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0    <span style="color:#808080;">#增加一条到达244.0.0.0的路由。</span></pre><p> <strong>屏蔽一条路由：</strong></p><pre>
route add -net 224.0.0.0 netmask 240.0.0.0 <span class='wp_keywordlink'><a href="http://Thomas-YangHT.github.io/man.linuxde.net/reject" title="reject命令" target="_blank">reject</a></span>     <span style="color:#808080;">#增加一条屏蔽的路由，目的地址为224.x.x.x将被拒绝。</span></pre><p> <strong>删除路由记录：</strong></p><pre>
route del -net 224.0.0.0 netmask 240.0.0.0
route del -net 224.0.0.0 netmask 240.0.0.0 reject</pre><p> <strong>删除和添加设置默认网关：</strong></p><pre>
route del default gw 192.168.120.240
route add default gw 192.168.120.240</pre></div><div id="ad-arc-bottom"><p><a class="col-link" href="/taobaojiqiao" target="_blank">【站长推荐】淘宝购物省钱小窍门，有些商品优惠力度高达50%，非常夸张！</a></p></div></div><div id="sidebar" class="left"><div class="box"><h3 class="title">相关命令</h3><ul class="body list-col-1 clearfix"><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/dnsdomainname" title="dnsdomainname">dnsdomainname</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/mii-tool" title="mii-tool">mii-tool</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/ethtool" title="ethtool">ethtool</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/ifcfg" title="ifcfg">ifcfg</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/ifdown" title="ifdown">ifdown</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/nisdomainname" title="nisdomainname">nisdomainname</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/domainname" title="domainname">domainname</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/usernetctl" title="usernetctl">usernetctl</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/ypdomainname" title="ypdomainname">ypdomainname</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/ifup" title="ifup">ifup</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/hostname" title="hostname">hostname</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/ifconfig" title="ifconfig">ifconfig</a></li><li><a href="http://Thomas-YangHT.github.io/man.linuxde.net/dhclient" title="dhclient">dhclient</a></li></ul></div><div class="box mobile-hide"><h3 class="title">送福利</h3><ul class="body list-col-1 clearfix"><li><a href="/taobaojiqiao" target="_blank" style="color: #008000;">淘宝购物省钱小窍门，有些商品优惠力度高达50%，非常夸张！</a></li></ul></div><div id="sidebar_search_box" class="box"><form action="http://Thomas-YangHT.github.io/man.linuxde.net/" method="post"> <input class="search-input " type="text" name="ss" id="ss" value="命令直达(输入完整命令)" onFocus="if (value =='命令直达(输入完整命令)'){value =''}" onBlur="if (value ==''){value='命令直达(输入完整命令)'}" /> <input class="search-submit button mobile-visible" type="submit" value="进入" /></form><form action="http://Thomas-YangHT.github.io/man.linuxde.net/"> <input class="search-input" type="text" name="s" id="s" value="模糊搜索(输入关键词)" onFocus="if (value =='模糊搜索(输入关键词)'){value =''}" onBlur="if (value ==''){value='模糊搜索(输入关键词)'}" /> <input class="search-submit button mobile-visible" type="submit" value="搜索" /></form></div><div class="box"><h3 class="title"><a href="/download/">Linux下载</a></h3><ul class="body list-col-1 clearfix"><li><a href="/download/Ubuntu">Ubuntu下载</a></li><li><a href="/download/CentOS">CentOS下载</a></li></ul></div></div></div><div id="footer-wrap"><div id="btn-backtop" title="返回顶部">返回顶部↑</div><div id="footer"><div class="info box"> <a href="http://Thomas-YangHT.github.io/man.linuxde.net" title="Linux命令大全">Linux命令大全</a> <span class="split"></span> <a href="http://Thomas-YangHT.github.io/man.linuxde.net/about_us" title="关于/联系">关于/联系</a> <span class="split"></span> 收藏本站请使用Ctrl+D <span class="split"></span> <a href="http://Thomas-YangHT.github.io/man.linuxde.net/shell-script" target="_blank">Shell脚本攻略</a> <span class="split"></span> <a href="http://Thomas-YangHT.github.io/man.linuxde.net/docs/shell_regex.html" target="_blank">Shell正则表达式</a> <span class="split"></span> 共收录 <span style="font-size: 16px; color:#74b147;">638</span> 条Linux系统命令</div><div class="desc box">在Linux命令大全（man.yunwei.edu）可以查询您所需要的Linux命令教程和相关实例。如果您觉得本站内容对您有所帮助，请推荐给更多需要帮助的人。</div></div></div> <script type="text/javascript" src="http://Thomas-YangHT.github.io/man.linuxde.net/wp-content/themes/pc_mobile/js/jquery-1.8.3.min.js?v=1.0.8"></script> <script type="text/javascript" src="http://Thomas-YangHT.github.io/man.linuxde.net/wp-content/themes/pc_mobile/js/common.js?v=1.0.8"></script> <div style="display:none"><script src="http://s19.cnzz.com/z_stat.php?id=1271307540&web_id=1271307540" language="JavaScript"></script></div></body></html>