<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="4361"/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%;position: relative;"><div style="outline:0px;box-sizing:border-box;"><div style="box-sizing:inherit;outline:0px;font-family:&quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif;font-size:14px;line-height:1.57143;background-color:rgb(245, 246, 247);color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;"><div style="outline:0px;box-sizing:border-box;"><span style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.05) 0px 2px 4px 0px;">
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;border-bottom:1px solid rgb(224, 224, 224);padding-top:16px;z-index:9;background-color:rgb(255, 255, 255);">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;">
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:8px;">
				<span style="border-radius:50%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center;font-size:12px;outline:0px;box-sizing:inherit;border:1px solid rgb(244, 206, 208);color:rgb(202, 12, 22);margin-right:8px;margin-top:4px;float:left;">原</span>				<h1 style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:24px;word-break:break-all;">使用官方 docker registry 搭建私有镜像仓库及部署 web ui</h1>
			</div>
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:14px;position:relative;">
				<div style="color:rgb(133, 133, 133);width:88%;height:24px;box-sizing:inherit;outline:0px;padding:0px;margin:0px;overflow:hidden;">
																				<span style="box-sizing:inherit;outline:0px;margin-right:14px;">2016年07月28日 10:21:30</span>
					<a href="https://me.csdn.net/mideagroup" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;color:rgb(120, 165, 241);margin-right:14px;" target="_blank">mideagroup</a>
						<span style="box-sizing:inherit;outline:0px;margin-right:14px;">阅读数：23324</span><span style="top:0px;margin-right:0px;color:rgb(51, 153, 234);letter-spacing:0px;line-height:20px;cursor:pointer;background-color:rgb(255, 255, 255);font-size:12px;right:101px;width:45px;display:inline-block;box-sizing:inherit;outline:0px;position:static;">更多</span>
						
																					<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;margin-top:6px;margin-bottom:0px;">
								<span style="box-sizing:inherit;outline:0px;margin-right:14px;color:rgb(77, 77, 77);">个人分类：</span>
																<a href="https://blog.csdn.net/mideagroup/article/category/6334914" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(121, 165, 229);word-break:break-all;" target="_blank">docker																</a>
							</div>
																								</div>
				<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;position:absolute;top:0px;right:0px;">
														</div>
			</div>
		</div>
	</div>
	<div style="box-sizing:inherit;outline:0px;display:block;position:relative;padding-top:16px;">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;word-break:break-all;">
								            
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;word-break:break-all;">
                
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">本文介绍本人在 Centos 7.1 上的搭建过程 private docker registry 的全过程，参考自这篇<a href="https://docs.docker.com/registry/deploying/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">官网文档</a>，英语好的可以直接看官网文档，里面的内容更详细，涉及更多原理性的东西，而本文侧重于动手实践。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">本文不介绍 docker 的基础概念，也不介绍为什么要搭建 private docker registry（这方面的内容网上有太多文档）。并且，虽然可以在好几种不同的环境中搭建，但本文只介绍在 Centos 7.1 上的搭建过程，其它版本的系统搭建过程，也请查阅上面给出过的<a href="https://docs.docker.com/registry/deploying/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">官网文档</a>。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-size:18px;background-color:inherit;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></span></div>
<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t0" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-size:18px;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">先安装 docker 1.6 或更高版本</strong></span></span></h1>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t1" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">0. 前提条件</strong></span></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">需要 centos 7 64位系统，且内核版本最少为 3.10。可通过下面指令检查你的内核版本：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;"></span><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ uname -r</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">3.10.0-229.14.1.el7.x86_64</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t2" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">1.安装</strong></span></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">安装 docker 有三种方式：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;background-color:inherit;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;background-color:inherit;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">通过源码安装。又可分为两种方式，完全通过源码安装和通过 docker 自身完成安装。前一种方式不仅非常复杂，而且网上介绍的文章很少，这里不介绍。后一种需要你的主机已经安装了 docker，这个要求有点先有鸡还是先有蛋的意味，这里也不介绍。</span></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;background-color:inherit;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">通过 yum 安装。这种方式最简单，正是本文要介绍的，它会自动帮你下载安装各种依赖文件。</span></li><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;background-color:inherit;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">通过 curl 来安装。这种方式其实是运行一个安装脚本，在这个脚本里面也是通过 yum 来安装的。</span></li></ul><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">通过 yum 安装的步骤如下：</div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">1.1，使用 root 或其它有 sudo 权限的账号登录进系统。以下过程假设你使用 root 登录，如果是其它账号，请在命令最前面加上 sudo。</span><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">1.2，确保你的 yum 包是最新的</span><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ yum update</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">1.3，添加 yum 仓库源</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">tee /etc/yum.repos.d/docker.repo <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&lt;&lt;<span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">-</span>'<span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">EOF</span>'</span></span></div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;">&gt;</span> [dockerrepo]</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&gt; name=Docker Repository</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&gt; baseurl=https://yum.dockerproject.org/repo/main/centos/7/</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&gt; enabled=1</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&gt; gpgcheck=1</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&gt; gpgkey=https://yum.dockerproject.org/gpg</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&gt; EOF</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">1.4，安装 docker 包</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ yum install docker-engine</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">1.5，启动 docker 守护进程</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ service docker start</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">1.6，到这一步安装 docker 就算完成了，我们可以运行一个 hello-world 容器来验证一下安装是否正确</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:1498px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ sudo docker run hello-world </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> Unable to find image 'hello-world:latest' locally </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        latest: Pulling from hello-world </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        a8219747be10: Pull complete </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        91c95931e552: Already exists </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        hello-world:latest: The image you are pulling has been verified. Important: image verification is a tech preview feature and should not be relied on to provide security. </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        Digest: sha256:aa03e5d0d5553b4c3473e89c8619cf79df368babd1.7.1cf5daeb82aab55838d </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        Status: Downloaded newer image for hello-world:latest </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        Hello from Docker. </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        This message shows that your installation appears to be working correctly. </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">        To generate this message, Docker took the following steps: </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">13</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">         1. The Docker client contacted the Docker daemon.</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">14</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">         2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub. (Assuming it was not already locally available.)</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">15</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">         3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading.</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">16</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">         4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal.</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">17</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">18</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">         To try something more ambitious, you can run an Ubuntu container with: </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">19</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">          $ docker run -it ubuntu bash </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">20</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">21</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">         For more examples and ideas, visit: </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">22</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">          http://docs.docker.com/userguide/</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">出现上述这样的输出，就说明安装正确了。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">    </div>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t3" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">2.创建一个 docker 用户组</strong></span></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">docker 守护进程绑定到一个 unix socket 而不是 tcp 端口。默认情况下，这个 unix socket 的所有者是 root，其他用户需要通过 sudo 的方式访问。因为 docker 守护进程总是以 root 用户运行。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">为避免使用 docker 命令的时候必须使用 sudo，我们可以创建一个 docker 用户组，然后将你的用户添加到这个组里面。当 docker 守护进程启动时，它会让 docker 用户组对该 unix socket 有可读可写的权限。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">当然如果你只会使用 root 账号登录使用 docker 命令，也可略过这个步骤，对后续进程不会有影响。</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">创建用户组并添加用户的步骤如下：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">2.1，使用 sudo 权限登录进系统</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">2.2，创建 docker 用户组</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ sudo groupadd docker</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">2.3，将你的用户添加到 docker 组</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ sudo usermod -aG docker your_username</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">2.4，退出登录然后再登录进来</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">这确保你的账号有正确的权限</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">2.5，不使用 sudo 来执行 docker 命令，验证是否正确</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker run hello-world</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></strong></span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">3. 让 docker 守护进程开机自启动</strong></span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">为了确保当你重启系统的时候，docker 可以自动启动，执行如下指令：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ sudo chkconfig docker on</code></pre>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
关于 docker 守护进程的更多定制化配置，可以参阅：<a href="https://docs.docker.com/engine/admin/systemd/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;line-height:1.5;background-color:inherit;" target="_blank">https://docs.docker.com/engine/admin/systemd/</a></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t4" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;font-size:18px;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">搭建 Docker Registry</strong></span></span></h1>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t5" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">以 localhost 运行</strong></span></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">要安装并启动一个 docker registry 非常简单，只需要执行下面这条指令：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker run -d -p 5000:5000 --restart=always --name registry registry:2</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">现在就能够使用这个 registry 了，下面测试一下。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">从 docker 官方镜像仓库获取一个镜像，并使用 tag 指令让它指向到你的仓库（这里我们就以上面下载的 hello-world 镜像为例）：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker tag hello-world localhost:5000/hello-world:latest</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">然后将它推送到你的仓库：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker push localhost:5000/hello-world</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">然后从本地删除这个 hello-world 镜像：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker rmi  hello-world <span style="outline:0px;box-sizing:border-box;color:rgb(97, 174, 238);word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(97, 174, 238);word-break:break-all;">localhost:</span></span><span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(209, 154, 102);word-break:break-all;">5000</span></span>/hello-world</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">可以通过命令 docker images 看到 hello-world 镜像已经不存在了     </div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">然后再从仓库中把它拉取出来：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker pull localhost:5000/hello-world</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">可以通过命令 docker images 看到 hello-world 镜像又出现了。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">可以通过下面的指令停止你的 registry：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker stop registry &amp;&amp; docker rm -v registry</code></pre></div>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t6" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">存储</strong></span></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">默认情况下，你的 registry 中的数据是存储在你的主机文件系统中的一个 docker volume 中的。    </div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">如果你想指定这个 docker volume<span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"> 的存储位置，以便更容易地访问 registry 中的数据，可以通过如下指令来完成：</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker run -d -p 5000:5000 --restart=always --name registry -v your-path:/var/lib/registry registry:2</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">当然，也可以将数据存储在某个远程文件系统上，而不是存在本机上，这里就不介绍了。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t7" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">远程访问</strong></span></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">到目前为止，docker registry 已经可以正常使用，且可以指定数据存储位置。但也只能在本地使用，要想在远程使用该 registry，就必须使用 TLS 来确保通信安全，就像使用 SSL 来配置 web 服务器。也可以强制 docker registry 运行在 insecure 模式，这种模式虽然配置起来要简单一些，但很不安全，一般不建议使用。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">这里偷懒使用这个简单的 insecure 模式，假设你在一个域名为 <span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">test.docker.midea.registry.hub 的主机上运行 docker registry，</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">步骤如下：</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">1，在你要远程访问 docker registry 的机器上，修改文件 <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:14.4px;background-color:rgb(245,245,245);">/etc/default/docker</span> 或 <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:14.4px;background-color:rgb(245,245,245);">/etc/sysconfig/docker</span>，具体是哪个取决于你的系统。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">2，编辑里面的 <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:14.4px;background-color:rgb(245,245,245);">DOCKER_OPTS</span> 选项，如果没有这个选项字段，就添加一个。改成下面这样的：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">ADD_REGISTRY='--add-registry test.docker.midea.registry.hub:5000'</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">DOCKER_OPTS=&quot;--insecure-registry test.docker.midea.registry.hub:5000&quot;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">INSECURE_REGISTRY='--insecure-registry test.docker.midea.registry.hub:5000'</div></div></li></ol></code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">close 配置文件并保存修改</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">3、重启你的 docker 守护进程，可以使用如下指令来完成：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ service docker restart</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">ps: 如果你的系统支持 systemd，也可以使用 systemctl 指令。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">通过以上3步，你的这个机器就能远程从 test.docker.midea.registry.hub 上运行的 docker registry 拉取镜像了：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker pull test.docker.midea.registry.hub:5000/hello-world</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">也可以省略 registry 的域名和端口（会先尝试从 test.docker.midea.registry.hub 中拉取，失败后再尝试从 </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">docker.io
 拉取</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">）：</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker pull hello-world</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">前提是你的机器要能访问主机 test.docker.midea.registry.hub，可以修改 /etc/hosts。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;word-break:break-all;line-height:21px;font-family:'微软雅黑';"><a name="t8" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;font-size:18px;">部署<span style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;background-color:inherit;">WebUI</span></span></strong></h1>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">完成了上面的步骤，就可以使用 docker 命令行工具对我们搭建的 registry 做各种操作了，如 push / pull。然而还是不够方便，比如不能直观的查看 registry 中的资源情况，如果有一个 ui 工具，能够看到仓库中有哪些镜像、每个镜像的版本是多少，就好了，下面就介绍 ui 的搭建过程。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">目前找到了两个 web ui，一个是 <span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;"><a href="https://github.com/kwk/docker-registry-frontend" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">docker-registry-frontend</a>，另一个是 </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;"><a href="https://hub.docker.com/r/hyper/docker-registry-web/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">hyper/docker-registry-web</a>。</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">这两个 ui 功能差不多，只需任选其一就可以了。截止到我安装的时候，<a href="https://github.com/kwk/docker-registry-frontend" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;" target="_blank">docker-registry-frontend</a> 的功能还不完善，没有删除镜像的功能，只能浏览。后一个同时具备
 删除和浏览 的功能。这两个 ui 的搭建过程下面都会讲。</div>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t9" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;background-color:inherit;">先讲下 <a href="https://github.com/kwk/docker-registry-frontend" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;" target="_blank">docker-registry-frontend</a> 的安装过程</span>：</strong></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">参考<a href="https://github.com/kwk/docker-registry-frontend/tree/v2/example-setup" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">这里</a></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">1、先安装 docker-compose</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">这是一个脚本，直接从 <a href="https://github.com/docker/compose/releases" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;" target="_blank">https://github.com/docker/compose/releases</a> 下载一个合适的版本，然后拷贝到 /usr/local/bin 目录中，再改下执行权限就可以了。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">2、从 github 中下载 <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(51,51,51);font-size:16px;">docker-registry-frontend</span> 源码</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ git clone https://github.com/kwk/docker-registry-frontend.git</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">3、修改配置，默认情况下 docker registry 监听你主机的 5000 端口，ui 监听你主机的 8443 端口。而我的主机这两个端口从外部都不能访问，所以要分别修改这两个端口到 10050 和 10080。除了端口，还需要根据你的需要修改仓库中的镜像文件保存的位置，我的镜像要保存到 /var/lib/registry。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ vim docker-compose.yml</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"># Setup front-end</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">frontend:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  image: konradkleine/docker-registry-frontend:v2</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  #build: ../</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  links:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - registry:registry</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  ports:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # Publish the frontend's port 443 on the IP 0.0.0.0 on port 8443</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">   *** - &quot;0.0.0.0:10080:443&quot;***</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  volumes:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ./frontend/certs/frontend.crt:/etc/apache2/server.crt:ro</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">13</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ./frontend/certs/frontend.key:/etc/apache2/server.key:ro</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">14</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  environment:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">15</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # The front-end is SSL protected</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">16</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ENV_USE_SSL=yes</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">17</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ENV_DOCKER_REGISTRY_HOST=registry</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">18</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ENV_DOCKER_REGISTRY_PORT=5000</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">19</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # The registry is SSL protected as well</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">20</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ENV_DOCKER_REGISTRY_USE_SSL=1</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">21</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">22</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"># Setup registry</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">23</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">registry:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">24</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  image: registry:2</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">25</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  volumes:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">26</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # Mount the config directory</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">27</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ./registry/config:/etc/docker/registry:ro</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">28</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # Make the registry storage persistent (see ./config/config.yml for the path)</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">29</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    ***- ./registry/storage:/var/lib/registry:rw***</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">30</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # Mount our own certificate and key</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">31</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    - ./registry/certs:/certs:ro</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">32</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  ports:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">33</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # Publish registry's port 5000 on the IP 0.0.0.0 on port 5000</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">34</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    ***- &quot;0.0.0.0:10050:5000&quot;***</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">启动</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker-compose up -d</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">ps：上面这个指令其实是根据 docker-compose.yml 中的配置启动两个容器（fronted 和 registry，这两个容器是独立的，通过 REST API 交互信息），如果在安装 web ui 前，你的 private docker registry 已经在运行了，也可以去掉上面文件中的 registry 字段，但注意要指定对应的ip和端口信息。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">然后就能够访问 <a href="https://localhost:10080/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">https://localhost:10080</a> </div>
<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;word-break:break-all;font-size:14px;color:rgb(79, 79, 79);font-weight:700;line-height:21px;font-family:'微软雅黑';"><a name="t10" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;background-color:inherit;">再讲讲怎么安装 <a href="https://hub.docker.com/r/hyper/docker-registry-web/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;" target="_blank">hyper/docker-registry-web</a></span> </strong></h2>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">目标是： registry 监听主机的 10050 端口，ui 监听主机的 10080 端口。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">1、创建工作目录</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;"></span><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ mkdir -p hyper-docker-registry-web-config/frontend hyper-docker-registry-web-config/registry</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ cd hyper-docker-registry-web-config</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">2、建一个用于 registry 的配置文件</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ vim registry/config.yml</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">version: 0.1</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">log:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  level: info</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  formatter: text</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  fields:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    service: registry-srv</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    environment: production</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">storage:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  cache:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    layerinfo: inmemory</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">12</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  filesystem:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">13</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    rootdirectory: /var/lib/registry</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">14</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  delete:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">15</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # 要在 ui 上能够删除镜像，enable 的值必须是 true</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">16</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    enabled: true</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">17</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">http:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">18</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  addr: :5000</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">19</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  debug:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">20</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    addr: :5001</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">3、新建一个用于 ui 的配置文件</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ vim frontend/config.yml</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">registry:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  # Docker registry url</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  url: http://registry-srv:5000/v2</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  # Docker registry fqdn</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  name: localhost:10050</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  # To allow image delete, should be false</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  readonly: false</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">9</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  auth:</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">10</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    # Disable authentication</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">11</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    enabled: false</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">4、新建一个启动脚本</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;width:1402px;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ vim startup.sh</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">#! /bin/bash</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">4</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"># registry 监听主机的 10050 端口，并将镜像文件存储在主机的 /var/lib/registry/storage 中。</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">5</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">docker run -d -p 10050:5000 --restart=always --name registry-srv -v $(pwd)/registry/:/etc/docker/registry:ro -v /var/lib/registry/storage:/var/lib/registry registry:2</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">6</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"> </div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">7</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"># ui 监听主机的 10080 端口</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">8</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">docker run -d -p 10080:8080  --name registry-web --link registry-srv -v $(pwd)/frontend/:/conf/:ro hyper/docker-registry-web</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">5、启动<br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ chmod +x startup.sh</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ ./startup.sh</div></div></li></ol></code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">除了使用 shell 脚本启动，这里其实也可以写一个 docker-compose.yml 配置文件，然后使用 <span style="outline:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">docker-compose 工具启动这两个容器。</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">等启动完成，就<span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;">可以通过 </span><a href="http://localhost:10080/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;line-height:1.5;background-color:inherit;" target="_blank">http://localhost:10080</a><span style="outline:0px;box-sizing:border-box;word-break:break-all;line-height:1.5;background-color:inherit;"> 访问
 ui，且可以在 ui 上浏览/删除镜像了。</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">OK，到这里，仓库和 ui </div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;"><a name="t11" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">使用方法：</span></h1>
假设上述的部署在 172.20.30.35 这台机器上进行的。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">需要修改【<strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">你的机器</strong>】上的2个文件：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">1、在 /etc/hosts 中加入：172.20.30.35 docker.midea.registry.hub</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">2、修改 /etc/sysconfig/docker，添加或修改下面3个字段的值：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">ADD_REGISTRY='--add-registry docker.midea.registry.hub:10050'</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">DOCKER_OPTS=&quot;--insecure-registry docker.midea.registry.hub:10050&quot;</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">3</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">INSECURE_REGISTRY='--insecure-registry docker.midea.registry.hub:10050'</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">3、然后重启你的 docker daemon：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ service docker restart 或 $ systemctl restart docker.service</code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">4、push 镜像</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;"><ol style="outline:0px;list-style:none;box-sizing:border-box;border-collapse:collapse;padding:0px;margin:0px;overflow:hidden;word-break:break-all;"><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">1</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ docker tag your-image docker.midea.registry.hub:10050/your-image</div></div></li><li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;list-style-type:none;margin-left:0px;margin-top:0px;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;float:left;height:22px;width:24px;border-right:1px solid rgb(197, 197, 197);"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;text-align:right;padding-right:8px;word-break:break-all;"><span style="text-align:right;">2</span></div></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;margin-left:8px;float:left;height:22px;"><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">$ docker push docker.midea.registry.hub:10050/your-image</div></div></li></ol></code></pre><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">5、pull 镜像</span></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><pre style="white-space:pre-wrap;color:rgb(0, 0, 0);outline:0px;padding:8px;margin:0px 0px 24px;position:relative;box-sizing:border-box;word-wrap:break-word;overflow-x:auto;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;word-break:break-all;"><code style="overflow-x:auto;background:rgb(40, 44, 52);outline:0px;color:rgb(171, 178, 191);box-sizing:border-box;font-size:14px;line-height:22px;display:block;white-space:pre;word-wrap:normal;padding:8px;font-family:Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;border-radius:4px;word-break:break-all;">$ docker pull docker.midea.registry.hub:10050/your-image</code></pre></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">然后就可以使用这个私有registry了。</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;">OVER~~</div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">参考文章：</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><a href="https://hub.docker.com/r/atcol/docker-registry-ui/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">https://hub.docker.com/r/atcol/docker-registry-ui/</a></div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><a href="https://github.com/atc-/docker-registry-ui/issues/65#issuecomment-68060219" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">https://github.com/atc-/docker-registry-ui/issues/65#issuecomment-68060219</a></div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><a href="https://docs.docker.com/registry/configuration/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">https://docs.docker.com/registry/configuration/</a></div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><a href="https://docs.docker.com/compose/overview/" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">https://docs.docker.com/compose/overview/</a></div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"><a href="http://www.informit.com/articles/article.aspx?p=2464012" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;background-color:inherit;" target="_blank">http://www.informit.com/articles/article.aspx?p=2464012</a></div>
</div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;background-color:inherit;"/></div>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;font-family:'微软雅黑';font-size:14px;line-height:21px;">    </div>
            </div>
                <span style="display:block;height:0px;visibility:hidden;clear:both;"> </span></div>
		
	</div>
	
</div></span></div></div></div></div>
</div>
</span>
</div></body></html> 