<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>几何类型</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="数据类型" HREF="http://school.yunwei.edu/manual/PostgreSQL/datatype.html"><LINK REL="PREVIOUS" TITLE="枚举类型" HREF="datatype-enum.html"><LINK REL="NEXT" TITLE="网络地址类型" HREF="datatype-net-types.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/datatype.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="枚举类型" HREF="datatype-enum.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/datatype.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 8. 数据类型</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="网络地址类型" HREF="datatype-net-types.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="DATATYPE-GEOMETRIC">8.8. 几何类型</A></H1><P>几何数据类型表示二维的平面物体。<A HREF="datatype-geometric.html#DATATYPE-GEO-TABLE">&#34920; 8-20</A>
显示了<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>里面可用的几何类型。
最基本的类型：点，是其它类型的基础。</P><DIV CLASS="TABLE"><A NAME="DATATYPE-GEO-TABLE"></A><P><B>&#34920; 8-20. 几何类型</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><THEAD><TR><TH>名字</TH><TH>存储空间</TH><TH>说明</TH><TH>表现形式</TH></TR></THEAD><TBODY><TR><TD><TT CLASS="TYPE">point</TT></TD><TD>16 字节</TD><TD>平面中的点</TD><TD>(x,y)</TD></TR><TR><TD><TT CLASS="TYPE">line</TT></TD><TD>32 字节</TD><TD>(无穷)直线(未完全实现)</TD><TD>((x1,y1),(x2,y2))</TD></TR><TR><TD><TT CLASS="TYPE">lseg</TT></TD><TD>32 字节</TD><TD>(有限)线段</TD><TD>((x1,y1),(x2,y2))</TD></TR><TR><TD><TT CLASS="TYPE">box</TT></TD><TD>32 字节</TD><TD>矩形</TD><TD>((x1,y1),(x2,y2))</TD></TR><TR><TD><TT CLASS="TYPE">path</TT></TD><TD>16+16n 字节</TD><TD>闭合路径(与多边形类似)</TD><TD>((x1,y1),...)</TD></TR><TR><TD><TT CLASS="TYPE">path</TT></TD><TD>16+16n 字节</TD><TD>开放路径</TD><TD>[(x1,y1),...]</TD></TR><TR><TD><TT CLASS="TYPE">polygon</TT></TD><TD>40+16n 字节</TD><TD>多边形(与闭合路径相似)</TD><TD>((x1,y1),...)</TD></TR><TR><TD><TT CLASS="TYPE">circle</TT></TD><TD>24 字节</TD><TD>圆</TD><TD>&lt;(x,y),r&gt; (圆心和半径)</TD></TR></TBODY></TABLE></DIV><P>我们有一系列丰富的函数和操作符可用来进行各种几何计算，如拉伸、转换、旋转、计算相交等。
它们在<A HREF="functions-geometry.html">第 9.11 &#33410;</A>里有解释。</P><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN6534">8.8.1. 点</A></H2><P>点是几何类型的基本二维构造单位。用下面语法描述<TT CLASS="TYPE">point</TT>的数值：
</P><PRE CLASS="SYNOPSIS">( <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
> )
  <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
></PRE><P>
这里的<TT CLASS="REPLACEABLE"><I>x</I></TT>和<TT CLASS="REPLACEABLE"><I>y</I></TT>是用浮点数表示的点的坐标。
</P><P>点输出使用第一种语法。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN6548">8.8.2. 线段</A></H2><P>线段(<TT CLASS="TYPE">lseg</TT>)是用一对点来代表的。<TT CLASS="TYPE">lseg</TT>的值用下面语法声明：
</P><PRE CLASS="SYNOPSIS">[ ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ( <TT
CLASS="REPLACEABLE"
><I
>x2</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y2</I
></TT
> ) ]
( ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ( <TT
CLASS="REPLACEABLE"
><I
>x2</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y2</I
></TT
> ) )
  ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ( <TT
CLASS="REPLACEABLE"
><I
>x2</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y2</I
></TT
> )
    <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
>   ,   <TT
CLASS="REPLACEABLE"
><I
>x2</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y2</I
></TT
></PRE><P>
这里的<TT CLASS="LITERAL">(<TT CLASS="REPLACEABLE"><I>x1</I></TT>,<TT CLASS="REPLACEABLE"><I>y1</I></TT>)</TT>
和<TT CLASS="LITERAL">(<TT CLASS="REPLACEABLE"><I>x2</I></TT>,<TT CLASS="REPLACEABLE"><I>y2</I></TT>)</TT>是线段的端点。
</P><P>线段输出使用第一种语法。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN6581">8.8.3. 矩形</A></H2><P>矩形是用一对对角点来表示的。<TT CLASS="TYPE">box</TT>的值用下面语法声明：
</P><PRE CLASS="SYNOPSIS">( ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ( <TT
CLASS="REPLACEABLE"
><I
>x2</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y2</I
></TT
> ) )
  ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ( <TT
CLASS="REPLACEABLE"
><I
>x2</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y2</I
></TT
> )
    <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
>   ,   <TT
CLASS="REPLACEABLE"
><I
>x2</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y2</I
></TT
></PRE><P>
这里的<TT CLASS="LITERAL">(<TT CLASS="REPLACEABLE"><I>x1</I></TT>,<TT CLASS="REPLACEABLE"><I>y1</I></TT>)</TT>
和<TT CLASS="LITERAL">(<TT CLASS="REPLACEABLE"><I>x2</I></TT>,<TT CLASS="REPLACEABLE"><I>y2</I></TT>)</TT>
是矩形的一对对角点。
</P><P>矩形的输出使用第二种语法。</P><P>任何两个对角都可以出现在输入中，但按照那样的顺序，
右上角和左下角的值会被重新排序以存储。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN6610">8.8.4. 路径</A></H2><P>路径由一系列连接的点组成。路径可能是<I CLASS="FIRSTTERM">开放</I>的，
也就是认为列表中第一个点和最后一个点没有连接，也可能是<I CLASS="FIRSTTERM">闭合</I>的，
这时认为第一个和最后一个点连接起来。</P><P><TT CLASS="TYPE">path</TT>的数值用下面语法声明：
</P><PRE CLASS="SYNOPSIS">[ ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ... , ( <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
> ) ]
( ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ... , ( <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
> ) )
  ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ... , ( <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
> )
  ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
>   , ... ,   <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
> )
    <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
>   , ... ,   <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
></PRE><P>
这里的点是组成路径的线段的端点。方括弧(<TT CLASS="LITERAL">[]</TT>)表明一个开放的路径，
圆括弧(<TT CLASS="LITERAL">()</TT>)表明一个闭合的路径。当最外层的括号被省略，
如在第三至第五语法，会假定一个封闭的路径。
</P><P>路径的输出使用第一种或第二种语法输出，在适当的时候。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN6643">8.8.5. 多边形</A></H2><P>多边形由一系列点代表(多边形的顶点)。多边形可以认为与闭合路径一样，但是存储方式不一样而且有自己的一套支持函数。</P><P><TT CLASS="TYPE">polygon</TT>的数值用下列语法声明：
</P><PRE CLASS="SYNOPSIS">( ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ... , ( <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
> ) )
  ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
> ) , ... , ( <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
> )
  ( <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
>   , ... ,   <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
> )
    <TT
CLASS="REPLACEABLE"
><I
>x1</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y1</I
></TT
>   , ... ,   <TT
CLASS="REPLACEABLE"
><I
>xn</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>yn</I
></TT
></PRE><P>
这里的点是多边形的端点。
</P><P>多边形输出使用第一种语法。</P></DIV><DIV CLASS="SECT2"><H2 CLASS="SECT2"><A NAME="AEN6668">8.8.6. 圆</A></H2><P>圆由一个圆心和半径标识。<TT CLASS="TYPE">circle</TT>的数值用下面语法表示：
</P><PRE CLASS="SYNOPSIS">&lt; ( <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
> ) , <TT
CLASS="REPLACEABLE"
><I
>r</I
></TT
> &gt;
( ( <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
> ) , <TT
CLASS="REPLACEABLE"
><I
>r</I
></TT
> )
  ( <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
> ) , <TT
CLASS="REPLACEABLE"
><I
>r</I
></TT
>
    <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> , <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
>   , <TT
CLASS="REPLACEABLE"
><I
>r</I
></TT
></PRE><P>
这里的<TT CLASS="LITERAL">(<TT CLASS="REPLACEABLE"><I>x</I></TT>,<TT CLASS="REPLACEABLE"><I>y</I></TT>)</TT>
是圆心，<TT CLASS="REPLACEABLE"><I>r</I></TT>是半径。
</P><P>圆的输出用第一种格式。</P></DIV></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="datatype-enum.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="datatype-net-types.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">枚举类型</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/datatype.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">网络地址类型</TD></TR></TABLE></DIV></BODY></HTML>
