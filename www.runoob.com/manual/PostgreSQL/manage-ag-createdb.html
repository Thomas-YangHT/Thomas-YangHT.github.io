<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>创建一个数据库</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="管理数据库" HREF="http://school.yunwei.edu/manual/PostgreSQL/managing-databases.html"><LINK REL="PREVIOUS" TITLE="概述" HREF="manage-ag-overview.html"><LINK REL="NEXT" TITLE="模板数据库" HREF="manage-ag-templatedbs.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/manage-ag.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="概述" HREF="manage-ag-overview.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/managing-databases.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 21. 管理数据库</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="模板数据库" HREF="manage-ag-templatedbs.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="MANAGE-AG-CREATEDB">21.2. 创建一个数据库</A></H1><P>为了创建数据库，必须先运行<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>服务器(参阅<A HREF="server-start.html">第 17.3 &#33410;</A>)。</P><P>数据库是用 SQL 命令<A HREF="sql-createdatabase.html">CREATE DATABASE</A>创建的：
</P><PRE CLASS="SYNOPSIS">CREATE DATABASE <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>;</PRE><P>
这里的<TT CLASS="REPLACEABLE"><I>name</I></TT>遵循<ACRONYM CLASS="ACRONYM">SQL</ACRONYM>标识符的一般规则。
当前角色自动成为此新数据库的所有者。同时，以后删除这个数据库也是这个用户的特权
(同时还会删除其中的所有对象，即使那些对象有不同的所有者也这样)。
</P><P>创建数据库是一个有限制的操作。参阅<A HREF="role-attributes.html">第 20.2 &#33410;</A>获取如何赋予权限的信息。</P><P>因为你需要与数据库服务器连接才能执行<TT CLASS="COMMAND">CREATE DATABASE</TT>命令，
那么还有一个问题是<SPAN CLASS="emphasis"><I CLASS="EMPHASIS">第一个</I></SPAN>数据库是怎样创建的?
第一个数据库总是由<TT CLASS="COMMAND">initdb</TT>命令在初始化数据存储区的时候创建的
(参阅<A HREF="creating-cluster.html">第 17.2 &#33410;</A>)。这个数据库叫<TT CLASS="LITERAL">postgres</TT>
。因此要创建第一个<SPAN CLASS="QUOTE">"真正"</SPAN>
的数据库时你可以与<TT CLASS="LITERAL">postgres</TT>连接。</P><P>在数据库集群初始化时会创建另一个名为<TT CLASS="LITERAL">template1</TT>
的数据库。在创建一个新的数据库时，
实际上就是克隆(复制)了<TT CLASS="LITERAL">template1</TT>数据库。
这就意味着你对<TT CLASS="LITERAL">template1</TT>所做的任何修改都会传播到所有随后创建的数据库中。
因此，避免在<TT CLASS="LITERAL">template1</TT>中创建对象，除非你想要这些对象传播到每个新建的数据库中。
更多细节见<A HREF="manage-ag-templatedbs.html">第 21.3 &#33410;</A>。</P><P>
另外，为了方便，你还可以在shell中用<TT CLASS="COMMAND">createdb</TT>
程序来创建新数据库：
</P><PRE CLASS="SYNOPSIS">createdb <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
></PRE><P>
<TT CLASS="COMMAND">createdb</TT>没变什么魔术，它和<TT CLASS="LITERAL">postgres</TT>连接并执行<TT CLASS="COMMAND">CREATE DATABASE</TT>
命令，就像上面描述的那样。<A HREF="app-createdb.html"><SPAN CLASS="APPLICATION">createdb</SPAN></A>的手册页包含使用它的细节。
注意不带任何参数调用<TT CLASS="COMMAND">createdb</TT>将创建与当前用户名同名的数据库。
</P><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>&#27880;&#24847;: </B><A HREF="http://school.yunwei.edu/manual/PostgreSQL/client-authentication.html">第 19 &#31456;</A>包含有关如何限制哪些用户可以连接某个特定数据库的信息。</P></BLOCKQUOTE></DIV><P>有时候你想为其它人创建一个数据库，并且使他应该成为新数据库的所有者，
这样他就可以自己配置和管理这个数据库。要实现这个目标，使用下列命令中的一条：
</P><PRE CLASS="PROGRAMLISTING">CREATE DATABASE <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
> OWNER <TT
CLASS="REPLACEABLE"
><I
>rolename</I
></TT
>;</PRE><P>
用于 SQL 环境，或：
</P><PRE CLASS="PROGRAMLISTING">createdb -O <TT
CLASS="REPLACEABLE"
><I
>rolename</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
></PRE><P>
用于命令行。只有数据库的超级用户才能为其它用户创建数据库。
</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="manage-ag-overview.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="manage-ag-templatedbs.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">概述</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/managing-databases.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">模板数据库</TD></TR></TABLE></DIV></BODY></HTML>
