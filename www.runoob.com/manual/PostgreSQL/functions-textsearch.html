<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>文本检索函数和操作符</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="函数和操作符" HREF="http://school.yunwei.edu/manual/PostgreSQL/functions.html"><LINK REL="PREVIOUS" TITLE="网络地址函数和操作符" HREF="functions-net.html"><LINK REL="NEXT" TITLE="XML 函数" HREF="functions-xml.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/func.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="网络地址函数和操作符" HREF="functions-net.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/functions.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 9. 函数和操作符</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="XML 函数" HREF="functions-xml.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="FUNCTIONS-TEXTSEARCH">9.13. 文本检索函数和操作符</A></H1><P><A HREF="functions-textsearch.html#TEXTSEARCH-OPERATORS-TABLE">&#34920; 9-36</A>，<A HREF="functions-textsearch.html#TEXTSEARCH-FUNCTIONS-TABLE">&#34920; 9-37</A>
和<A HREF="functions-textsearch.html#TEXTSEARCH-FUNCTIONS-DEBUG-TABLE">&#34920; 9-38</A>概述了提供全文检索函数和操作符。
详见<A HREF="http://school.yunwei.edu/manual/PostgreSQL/textsearch.html">第 12 &#31456;</A> <SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>文本检索功能的说明。</P><DIV CLASS="TABLE"><A NAME="TEXTSEARCH-OPERATORS-TABLE"></A><P><B>&#34920; 9-36. 文本检索操作符</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><THEAD><TR><TH>操作符</TH><TH>描述</TH><TH>示例</TH><TH>结果</TH></TR></THEAD><TBODY><TR><TD> <TT CLASS="LITERAL">@@</TT> </TD><TD><TT CLASS="TYPE">tsvector</TT> 匹配 <TT CLASS="TYPE">tsquery</TT> ?</TD><TD><TT CLASS="LITERAL">to_tsvector('fat cats ate rats') @@ to_tsquery('cat &amp; rat')</TT></TD><TD><TT CLASS="LITERAL">t</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">@@@</TT> </TD><TD>弃用的<TT CLASS="LITERAL">@@</TT>的同义词</TD><TD><TT CLASS="LITERAL">to_tsvector('fat cats ate rats') @@@ to_tsquery('cat &amp; rat')</TT></TD><TD><TT CLASS="LITERAL">t</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">||</TT> </TD><TD>连接<TT CLASS="TYPE">tsvector</TT>s</TD><TD><TT CLASS="LITERAL">'a:1 b:2'::tsvector || 'c:1 d:2 b:3'::tsvector</TT></TD><TD><TT CLASS="LITERAL">'a':1 'b':2,5 'c':3 'd':4</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&amp;&amp;</TT> </TD><TD><TT CLASS="TYPE">tsquery</TT>与</TD><TD><TT CLASS="LITERAL">'fat | rat'::tsquery &amp;&amp; 'cat'::tsquery</TT></TD><TD><TT CLASS="LITERAL">( 'fat' | 'rat' ) &amp; 'cat'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">||</TT> </TD><TD><TT CLASS="TYPE">tsquery</TT>或</TD><TD><TT CLASS="LITERAL">'fat | rat'::tsquery || 'cat'::tsquery</TT></TD><TD><TT CLASS="LITERAL">( 'fat' | 'rat' ) | 'cat'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">!!</TT> </TD><TD><TT CLASS="TYPE">tsquery</TT>非</TD><TD><TT CLASS="LITERAL">!! 'cat'::tsquery</TT></TD><TD><TT CLASS="LITERAL">!'cat'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">@&gt;</TT> </TD><TD><TT CLASS="TYPE">tsquery</TT> 包含另一个?</TD><TD><TT CLASS="LITERAL">'cat'::tsquery @&gt; 'cat &amp; rat'::tsquery</TT></TD><TD><TT CLASS="LITERAL">f</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&lt;@</TT> </TD><TD><TT CLASS="TYPE">tsquery</TT> 包含于 ?</TD><TD><TT CLASS="LITERAL">'cat'::tsquery &lt;@ 'cat &amp; rat'::tsquery</TT></TD><TD><TT CLASS="LITERAL">t</TT></TD></TR></TBODY></TABLE></DIV><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>&#27880;&#24847;: </B><TT CLASS="TYPE">tsquery</TT>的操作符只考虑两个查询列出的项的情况，忽略组合的操作符。</P></BLOCKQUOTE></DIV><P>除了显示在表中的操作符，还为类型<TT CLASS="TYPE">tsvector</TT>和<TT CLASS="TYPE">tsquery</TT>
定义了普通的B-tree比较操作符（<TT CLASS="LITERAL">=</TT>, <TT CLASS="LITERAL">&lt;</TT>等）。
它们对于文本检索不是很有用，但是允许使用。例如，建在这些类型列上的唯一索引。</P><DIV CLASS="TABLE"><A NAME="TEXTSEARCH-FUNCTIONS-TABLE"></A><P><B>&#34920; 9-37. 文本检索函数</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><COL><THEAD><TR><TH>函数</TH><TH>返回类型</TH><TH>描述</TH><TH>示例</TH><TH>结果</TH></TR></THEAD><TBODY><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">get_current_ts_config()</CODE></TT>
</TD><TD><TT CLASS="TYPE">regconfig</TT></TD><TD>获取文本检索的默认配置</TD><TD><TT CLASS="LITERAL">get_current_ts_config()</TT></TD><TD><TT CLASS="LITERAL">english</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">length(<TT CLASS="TYPE">tsvector</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">integer</TT></TD><TD><TT CLASS="TYPE">tsvector</TT>的单词数</TD><TD><TT CLASS="LITERAL">length('fat:2,4 cat:3 rat:5A'::tsvector)</TT></TD><TD><TT CLASS="LITERAL">3</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">numnode(<TT CLASS="TYPE">tsquery</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">integer</TT></TD><TD><TT CLASS="TYPE">tsquery</TT>中的单词加上操作符的数量</TD><TD><TT CLASS="LITERAL"> numnode('(fat &amp; rat) | cat'::tsquery)</TT></TD><TD><TT CLASS="LITERAL">5</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">plainto_tsquery([<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>config</I></TT> <TT CLASS="TYPE">regconfig</TT> , </SPAN>] <TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">tsquery</TT></TD><TD>产生<TT CLASS="TYPE">tsquery</TT>忽略标点</TD><TD><TT CLASS="LITERAL">plainto_tsquery('english', 'The Fat Rats')</TT></TD><TD><TT CLASS="LITERAL">'fat' &amp; 'rat'</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">querytree(<TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">tsquery</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">text</TT></TD><TD>获取<TT CLASS="TYPE">tsquery</TT>可索引的部分</TD><TD><TT CLASS="LITERAL">querytree('foo &amp; ! bar'::tsquery)</TT></TD><TD><TT CLASS="LITERAL">'foo'</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">setweight(<TT CLASS="TYPE">tsvector</TT>, <TT CLASS="TYPE">"char"</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">tsvector</TT></TD><TD>给<TT CLASS="TYPE">tsvector</TT>的每个元素赋予权值</TD><TD><TT CLASS="LITERAL">setweight('fat:2,4 cat:3 rat:5B'::tsvector, 'A')</TT></TD><TD><TT CLASS="LITERAL">'cat':3A 'fat':2A,4A 'rat':5A</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">strip(<TT CLASS="TYPE">tsvector</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">tsvector</TT></TD><TD>删除<TT CLASS="TYPE">tsvector</TT>中的位置和权值</TD><TD><TT CLASS="LITERAL">strip('fat:2,4 cat:3 rat:5A'::tsvector)</TT></TD><TD><TT CLASS="LITERAL">'cat' 'fat' 'rat'</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">to_tsquery([<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>config</I></TT> <TT CLASS="TYPE">regconfig</TT> , </SPAN>] <TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">tsquery</TT></TD><TD>标准化单词并转换为<TT CLASS="TYPE">tsquery</TT></TD><TD><TT CLASS="LITERAL">to_tsquery('english', 'The &amp; Fat &amp; Rats')</TT></TD><TD><TT CLASS="LITERAL">'fat' &amp; 'rat'</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">to_tsvector([<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>config</I></TT> <TT CLASS="TYPE">regconfig</TT> , </SPAN>] <TT CLASS="REPLACEABLE"><I>document</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">tsvector</TT></TD><TD>减少文档中的文本到 <TT CLASS="TYPE">tsvector</TT></TD><TD><TT CLASS="LITERAL">to_tsvector('english', 'The Fat Rats')</TT></TD><TD><TT CLASS="LITERAL">'fat':2 'rat':3</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_headline([<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>config</I></TT> <TT CLASS="TYPE">regconfig</TT>, </SPAN>] <TT CLASS="REPLACEABLE"><I>document</I></TT> <TT CLASS="TYPE">text</TT>, <TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">tsquery</TT> [<SPAN CLASS="OPTIONAL">, <TT CLASS="REPLACEABLE"><I>options</I></TT> <TT CLASS="TYPE">text</TT> </SPAN>])</CODE></TT>
</TD><TD><TT CLASS="TYPE">text</TT></TD><TD>显示一个查询的匹配项</TD><TD><TT CLASS="LITERAL">ts_headline('x y z', 'z'::tsquery)</TT></TD><TD><TT CLASS="LITERAL">x y &lt;b&gt;z&lt;/b&gt;</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_rank([<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>weights</I></TT> <TT CLASS="TYPE">float4[]</TT>, </SPAN>] <TT CLASS="REPLACEABLE"><I>vector</I></TT> <TT CLASS="TYPE">tsvector</TT>, <TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">tsquery</TT> [<SPAN CLASS="OPTIONAL">, <TT CLASS="REPLACEABLE"><I>normalization</I></TT> <TT CLASS="TYPE">integer</TT> </SPAN>])</CODE></TT>
</TD><TD><TT CLASS="TYPE">float4</TT></TD><TD>文档查询排名</TD><TD><TT CLASS="LITERAL">ts_rank(textsearch, query)</TT></TD><TD><TT CLASS="LITERAL">0.818</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_rank_cd([<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>weights</I></TT> <TT CLASS="TYPE">float4[]</TT>, </SPAN>] <TT CLASS="REPLACEABLE"><I>vector</I></TT> <TT CLASS="TYPE">tsvector</TT>, <TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">tsquery</TT> [<SPAN CLASS="OPTIONAL">, <TT CLASS="REPLACEABLE"><I>normalization</I></TT> <TT CLASS="TYPE">integer</TT> </SPAN>])</CODE></TT>
</TD><TD><TT CLASS="TYPE">float4</TT></TD><TD>排序文件查询使用覆盖密度</TD><TD><TT CLASS="LITERAL">ts_rank_cd('{0.1, 0.2, 0.4, 1.0}', textsearch, query)</TT></TD><TD><TT CLASS="LITERAL">2.01317</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_rewrite(<TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">tsquery</TT>, <TT CLASS="REPLACEABLE"><I>target</I></TT> <TT CLASS="TYPE">tsquery</TT>, <TT CLASS="REPLACEABLE"><I>substitute</I></TT> <TT CLASS="TYPE">tsquery</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">tsquery</TT></TD><TD>替换带有查询的替代目标</TD><TD><TT CLASS="LITERAL">ts_rewrite('a &amp; b'::tsquery, 'a'::tsquery, 'foo|bar'::tsquery)</TT></TD><TD><TT CLASS="LITERAL">'b' &amp; ( 'foo' | 'bar' )</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_rewrite(<TT CLASS="REPLACEABLE"><I>query</I></TT> <TT CLASS="TYPE">tsquery</TT>, <TT CLASS="REPLACEABLE"><I>select</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">tsquery</TT></TD><TD>从一条<TT CLASS="COMMAND">SELECT</TT>命令的替代目标做替换</TD><TD><TT CLASS="LITERAL">SELECT ts_rewrite('a &amp; b'::tsquery, 'SELECT t,s FROM aliases')</TT></TD><TD><TT CLASS="LITERAL">'b' &amp; ( 'foo' | 'bar' )</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">tsvector_update_trigger()</CODE></TT>
</TD><TD><TT CLASS="TYPE">trigger</TT></TD><TD>自动更新<TT CLASS="TYPE">tsvector</TT>列的触发器函数</TD><TD><TT CLASS="LITERAL">CREATE TRIGGER ... tsvector_update_trigger(tsvcol, 'pg_catalog.swedish', title, body)</TT></TD><TD><TT CLASS="LITERAL"></TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">tsvector_update_trigger_column()</CODE></TT>
</TD><TD><TT CLASS="TYPE">trigger</TT></TD><TD>自动更新<TT CLASS="TYPE">tsvector</TT>列的触发器函数</TD><TD><TT CLASS="LITERAL">CREATE TRIGGER ... tsvector_update_trigger_column(tsvcol, configcol, title, body)</TT></TD><TD><TT CLASS="LITERAL"></TT></TD></TR></TBODY></TABLE></DIV><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>&#27880;&#24847;: </B>所有的文本检索函数，接受一个选项<TT CLASS="TYPE">regconfig</TT>参数。当这个参数忽略，
使用由<A HREF="runtime-config-client.html#GUC-DEFAULT-TEXT-SEARCH-CONFIG">default_text_search_config</A>指定的配置。</P></BLOCKQUOTE></DIV><P><A HREF="functions-textsearch.html#TEXTSEARCH-FUNCTIONS-DEBUG-TABLE">&#34920; 9-38</A>单独列出的函数，
因为他们通常不用于每天的文本检索操作。它们有助于开发调试新文本检索配置。</P><DIV CLASS="TABLE"><A NAME="TEXTSEARCH-FUNCTIONS-DEBUG-TABLE"></A><P><B>&#34920; 9-38. 文本检索调试函数</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><COL><THEAD><TR><TH>函数</TH><TH>返回类型</TH><TH>描述</TH><TH>示例</TH><TH>结果</TH></TR></THEAD><TBODY><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_debug([<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>config</I></TT> <TT CLASS="TYPE">regconfig</TT>, </SPAN>] <TT CLASS="REPLACEABLE"><I>document</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>alias</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>description</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>token</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>dictionaries</I></TT> <TT CLASS="TYPE">regdictionary[]</TT>, OUT <TT CLASS="REPLACEABLE"><I>dictionary</I></TT> <TT CLASS="TYPE">regdictionary</TT>, OUT <TT CLASS="REPLACEABLE"><I>lexemes</I></TT> <TT CLASS="TYPE">text[]</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">setof record</TT></TD><TD>测试一个配置</TD><TD><TT CLASS="LITERAL">ts_debug('english', 'The Brightest supernovaes')</TT></TD><TD><TT CLASS="LITERAL">(asciiword,"Word, all ASCII",The,{english_stem},english_stem,{}) ...</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_lexize(<TT CLASS="REPLACEABLE"><I>dict</I></TT> <TT CLASS="TYPE">regdictionary</TT>, <TT CLASS="REPLACEABLE"><I>token</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">text[]</TT></TD><TD>测试一个数据字典</TD><TD><TT CLASS="LITERAL">ts_lexize('english_stem', 'stars')</TT></TD><TD><TT CLASS="LITERAL">{star}</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_parse(<TT CLASS="REPLACEABLE"><I>parser_name</I></TT> <TT CLASS="TYPE">text</TT>, <TT CLASS="REPLACEABLE"><I>document</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>tokid</I></TT> <TT CLASS="TYPE">integer</TT>, OUT <TT CLASS="REPLACEABLE"><I>token</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">setof record</TT></TD><TD>测试一个解析</TD><TD><TT CLASS="LITERAL">ts_parse('default', 'foo - bar')</TT></TD><TD><TT CLASS="LITERAL">(1,foo) ...</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_parse(<TT CLASS="REPLACEABLE"><I>parser_oid</I></TT> <TT CLASS="TYPE">oid</TT>, <TT CLASS="REPLACEABLE"><I>document</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>tokid</I></TT> <TT CLASS="TYPE">integer</TT>, OUT <TT CLASS="REPLACEABLE"><I>token</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">setof record</TT></TD><TD>测试一个解析</TD><TD><TT CLASS="LITERAL">ts_parse(3722, 'foo - bar')</TT></TD><TD><TT CLASS="LITERAL">(1,foo) ...</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_token_type(<TT CLASS="REPLACEABLE"><I>parser_name</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>tokid</I></TT> <TT CLASS="TYPE">integer</TT>, OUT <TT CLASS="REPLACEABLE"><I>alias</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>description</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">setof record</TT></TD><TD>由解析器获取分词类型的定义</TD><TD><TT CLASS="LITERAL">ts_token_type('default')</TT></TD><TD><TT CLASS="LITERAL">(1,asciiword,"Word, all ASCII") ...</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_token_type(<TT CLASS="REPLACEABLE"><I>parser_oid</I></TT> <TT CLASS="TYPE">oid</TT>, OUT <TT CLASS="REPLACEABLE"><I>tokid</I></TT> <TT CLASS="TYPE">integer</TT>, OUT <TT CLASS="REPLACEABLE"><I>alias</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>description</I></TT> <TT CLASS="TYPE">text</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">setof record</TT></TD><TD>由解析器获取分词类型的定义</TD><TD><TT CLASS="LITERAL">ts_token_type(3722)</TT></TD><TD><TT CLASS="LITERAL">(1,asciiword,"Word, all ASCII") ...</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">ts_stat(<TT CLASS="REPLACEABLE"><I>sqlquery</I></TT> <TT CLASS="TYPE">text</TT>, [<SPAN CLASS="OPTIONAL"> <TT CLASS="REPLACEABLE"><I>weights</I></TT> <TT CLASS="TYPE">text</TT>, </SPAN>] OUT <TT CLASS="REPLACEABLE"><I>word</I></TT> <TT CLASS="TYPE">text</TT>, OUT <TT CLASS="REPLACEABLE"><I>ndoc</I></TT> <TT CLASS="TYPE">integer</TT>, OUT <TT CLASS="REPLACEABLE"><I>nentry</I></TT> <TT CLASS="TYPE">integer</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">setof record</TT></TD><TD>获取<TT CLASS="TYPE">tsvector</TT>列的统计数据</TD><TD><TT CLASS="LITERAL">ts_stat('SELECT vector from apod')</TT></TD><TD><TT CLASS="LITERAL">(foo,10,15) ...</TT></TD></TR></TBODY></TABLE></DIV></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="functions-net.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="functions-xml.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">网络地址函数和操作符</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/functions.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">XML 函数</TD></TR></TABLE></DIV></BODY></HTML>
