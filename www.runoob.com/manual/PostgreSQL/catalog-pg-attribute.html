<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>pg_attribute</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="系统表" HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html"><LINK REL="PREVIOUS" TITLE="pg_attrdef" HREF="catalog-pg-attrdef.html"><LINK REL="NEXT" TITLE="pg_authid" HREF="catalog-pg-authid.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/catalogs.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="pg_attrdef" HREF="catalog-pg-attrdef.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 47. 系统表</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="pg_authid" HREF="catalog-pg-authid.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="CATALOG-PG-ATTRIBUTE">47.7. <TT CLASS="STRUCTNAME">pg_attribute</TT></A></H1><P><TT CLASS="STRUCTNAME">pg_attribute</TT>表存储关于表的字段的信息。数据库里每个表的每个字段都在
<TT CLASS="STRUCTNAME">pg_attribute</TT>里有一行。还有用于索引，以及所有在
<TT CLASS="STRUCTNAME">pg_class</TT>里有记录的对象。</P><P>术语属性等效于列/字段，使用它是历史原因。</P><DIV CLASS="TABLE"><A NAME="AEN91631"></A><P><B>&#34920; 47-7. <TT CLASS="STRUCTNAME">pg_attribute</TT> 字段</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><THEAD><TR><TH>名字</TH><TH>类型</TH><TH>引用</TH><TH>描述</TH></TR></THEAD><TBODY><TR><TD><TT CLASS="STRUCTFIELD">attrelid</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-class.html"><TT CLASS="STRUCTNAME">pg_class</TT></A>.oid</TT></TD><TD>此字段所属的表</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attname</TT></TD><TD><TT CLASS="TYPE">name</TT></TD><TD>&nbsp;</TD><TD>字段名字</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">atttypid</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-type.html"><TT CLASS="STRUCTNAME">pg_type</TT></A>.oid</TT></TD><TD>这个字段的数据类型</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attstattarget</TT></TD><TD><TT CLASS="TYPE">int4</TT></TD><TD>&nbsp;</TD><TD>
控制<A HREF="sql-analyze.html">ANALYZE</A>为这个字段积累的统计细节的级别。零值表示不收集统计信息。
负数表示使用系统缺省的统计对象。正数值的确切信息是和数据类型相关的。对于标量数据类型，
<TT CLASS="STRUCTFIELD">attstattarget</TT>既是要收集的<SPAN CLASS="QUOTE">"最常用数值"</SPAN>
的目标数目，也是要创建的柱状图的目标数量。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attlen</TT></TD><TD><TT CLASS="TYPE">int2</TT></TD><TD>&nbsp;</TD><TD>
是本字段类型的<TT CLASS="LITERAL">pg_type.typlen</TT>的拷贝
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attnum</TT></TD><TD><TT CLASS="TYPE">int2</TT></TD><TD>&nbsp;</TD><TD>
字段数目。普通字段是从 1 开始计数的。系统字段
(比如<TT CLASS="STRUCTFIELD">oid</TT>)有(任意)负数。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attndims</TT></TD><TD><TT CLASS="TYPE">int4</TT></TD><TD>&nbsp;</TD><TD>
如果该字段是数组，那么是维数，否则是 0 。目前，一个数组的维数并未强制，
因此任何非零值都表示<SPAN CLASS="QUOTE">"这是一个数组"</SPAN>。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attcacheoff</TT></TD><TD><TT CLASS="TYPE">int4</TT></TD><TD>&nbsp;</TD><TD>
在磁盘上的时候总是 -1 ，但是如果加载入内存中的行描述器中，
它可能会被更新以缓冲在行中字段的偏移量。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">atttypmod</TT></TD><TD><TT CLASS="TYPE">int4</TT></TD><TD>&nbsp;</TD><TD>
记录创建新表时支持的类型特定的数据(比如一个<TT CLASS="TYPE">varchar</TT>字段的最大长度)。
它传递给类型相关的输入函数和长度转换函数当做第三个参数。
其值对那些不需要<TT CLASS="STRUCTFIELD">atttypmod</TT>的类型通常为 -1 。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attbyval</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>
这个字段类型的<TT CLASS="LITERAL">pg_type.typbyval</TT>的拷贝。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attstorage</TT></TD><TD><TT CLASS="TYPE">char</TT></TD><TD>&nbsp;</TD><TD>
这个字段的类型的<TT CLASS="LITERAL">pg_type.typstorage</TT>的拷贝。对于可压缩的数据类型(TOAST)，
这个字段可以在字段创建之后改变，以便于控制存储策略。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attalign</TT></TD><TD><TT CLASS="TYPE">char</TT></TD><TD>&nbsp;</TD><TD>
这个字段类型的<TT CLASS="LITERAL">pg_type.typalign</TT>的拷贝
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attnotnull</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>
这代表一个非空约束。可以改变这个字段以打开或者关闭这个约束。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">atthasdef</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>
这个字段有一个缺省值，此时它对应<TT CLASS="STRUCTNAME">pg_attrdef</TT>
表里实际定义此值的记录。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attisdropped</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>
这个字段已经被删除了，不再有效。一个已经删除的字段物理上仍然存在表中，
但会被分析器忽略，因此不能再通过 SQL 访问。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attislocal</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>
这个字段是局部定义在关系中的。请注意一个字段可以同时是局部定义和继承的。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attinhcount</TT></TD><TD><TT CLASS="TYPE">int4</TT></TD><TD>&nbsp;</TD><TD>
这个字段所拥有的直接祖先的个数。如果一个字段的祖先个数非零，
那么它就不能被删除或重命名。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attcollation</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-collation.html"><TT CLASS="STRUCTNAME">pg_collation</TT></A>.oid</TT></TD><TD>
这个字段定义的排序规则，如果这个字段不是排序规则数据类型则为0。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attacl</TT></TD><TD><TT CLASS="TYPE">aclitem[]</TT></TD><TD>&nbsp;</TD><TD>
如果在这个字段上明确的获得任意，则为字段级访问权限。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attoptions</TT></TD><TD><TT CLASS="TYPE">text[]</TT></TD><TD>&nbsp;</TD><TD>
属性级选项，使用<SPAN CLASS="QUOTE">"keyword=value"</SPAN>格式的字符串
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">attfdwoptions</TT></TD><TD><TT CLASS="TYPE">text[]</TT></TD><TD>&nbsp;</TD><TD>
属性级外部数据封装器选项，使用<SPAN CLASS="QUOTE">"keyword=value"</SPAN>格式的字符串
</TD></TR></TBODY></TABLE></DIV><P>在一个已被删除字段的<TT CLASS="STRUCTNAME">pg_attribute</TT>记录里，
<TT CLASS="STRUCTFIELD">atttypid</TT>将被重置为零，但是<TT CLASS="STRUCTFIELD">attlen</TT>
和其它从<TT CLASS="STRUCTNAME">pg_type</TT>拷贝的仍然有效。
这么安排是为了对付后来被删除的字段的数据类型也被删除的情况，因为这个时候不再有
<TT CLASS="STRUCTNAME">pg_type</TT>行了。<TT CLASS="STRUCTFIELD">attlen</TT>和其它字段可以用于解析表中一行内容。</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="catalog-pg-attrdef.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="catalog-pg-authid.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><TT CLASS="STRUCTNAME">pg_attrdef</TT></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><TT CLASS="STRUCTNAME">pg_authid</TT></TD></TR></TABLE></DIV></BODY></HTML>
