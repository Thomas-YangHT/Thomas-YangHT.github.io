<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>pg_proc</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="系统表" HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html"><LINK REL="PREVIOUS" TITLE="pg_pltemplate" HREF="catalog-pg-pltemplate.html"><LINK REL="NEXT" TITLE="pg_range" HREF="catalog-pg-range.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/catalogs.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="pg_pltemplate" HREF="catalog-pg-pltemplate.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 47. 系统表</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="pg_range" HREF="catalog-pg-range.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="CATALOG-PG-PROC">47.36. <TT CLASS="STRUCTNAME">pg_proc</TT></A></H1><P><TT CLASS="STRUCTNAME">pg_proc</TT>表存储关于函数(或过程)的信息。参阅<A HREF="sql-createfunction.html">CREATE FUNCTION</A>
和<A HREF="xfunc.html">第 35.3 &#33410;</A>获取更多信息。</P><P>该表包含聚集函数和普通函数的数据。如果<TT CLASS="STRUCTFIELD">proisagg</TT>为真，
那么在<TT CLASS="STRUCTFIELD">pg_aggregate</TT>里应该有一个匹配行。</P><DIV CLASS="TABLE"><A NAME="AEN94632"></A><P><B>&#34920; 47-36. <TT CLASS="STRUCTNAME">pg_proc</TT> 字段</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><THEAD><TR><TH>名字</TH><TH>类型</TH><TH>引用</TH><TH>描述</TH></TR></THEAD><TBODY><TR><TD><TT CLASS="STRUCTFIELD">oid</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD>&nbsp;</TD><TD>行标识符(隐藏属性;必须明确选择)</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proname</TT></TD><TD><TT CLASS="TYPE">name</TT></TD><TD>&nbsp;</TD><TD>函数名字</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">pronamespace</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-namespace.html"><TT CLASS="STRUCTNAME">pg_namespace</TT></A>.oid</TT></TD><TD>
包含该函数名字空间的 OID
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proowner</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-authid.html"><TT CLASS="STRUCTNAME">pg_authid</TT></A>.oid</TT></TD><TD>函数的所有者</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">prolang</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-language.html"><TT CLASS="STRUCTNAME">pg_language</TT></A>.oid</TT></TD><TD>这个函数的实现语言或调用接口</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">procost</TT></TD><TD><TT CLASS="TYPE">float4</TT></TD><TD>&nbsp;</TD><TD>估计执行成本(以<A HREF="runtime-config-query.html#GUC-CPU-OPERATOR-COST">cpu_operator_cost</A>为单位);如果<TT CLASS="STRUCTFIELD">proretset</TT>,
这是每一行返回的成本</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">prorows</TT></TD><TD><TT CLASS="TYPE">float4</TT></TD><TD>&nbsp;</TD><TD>估计的结果行数(如果非<TT CLASS="STRUCTFIELD">proretset</TT>则为零)</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">provariadic</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-type.html"><TT CLASS="STRUCTNAME">pg_type</TT></A>.oid</TT></TD><TD>可变数组参数的元素的数据类型，如果函数没有可变参数则为零</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">protransform</TT></TD><TD><TT CLASS="TYPE">regproc</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-proc.html"><TT CLASS="STRUCTNAME">pg_proc</TT></A>.oid</TT></TD><TD>调用这个函数可以简化其他函数(参阅<A HREF="xfunc-c.html#XFUNC-TRANSFORM-FUNCTIONS">第 35.9.11 &#33410;</A>)</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proisagg</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>函数是聚集函数</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proiswindow</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>函数是窗口函数</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">prosecdef</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>函数是一个安全定义器(也就是一个<SPAN CLASS="QUOTE">"setuid"</SPAN>函数)</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proleakproof</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>
该函数没有副作用。没有关于该参数的信息传递，除非通过返回值。
任何函数都有可能抛出一个错误，取决于它的参数值是不加密的。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proisstrict</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>
如果任何调用参数是空，那么函数返回空。这时函数实际上连调用都不调用。
不是<SPAN CLASS="QUOTE">"strict"</SPAN>的函数必须准备处理空输入。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proretset</TT></TD><TD><TT CLASS="TYPE">bool</TT></TD><TD>&nbsp;</TD><TD>函数返回一个集合(也就是说，指定数据类型的多个数值)</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">provolatile</TT></TD><TD><TT CLASS="TYPE">char</TT></TD><TD>&nbsp;</TD><TD>
告诉该函数的结果是否只依赖于它的输入参数，或者还会被外接因素影响。
对于<SPAN CLASS="QUOTE">"不可变的"</SPAN>(immutable)函数它是 <TT CLASS="LITERAL">i</TT>，
这样的函数对于相同的输入总是产生相同的结果。对于<SPAN CLASS="QUOTE">"稳定的"</SPAN>(stable)
函数它是<TT CLASS="LITERAL">s</TT>，(对于固定输入)其结果在一次扫描里不变。
对于<SPAN CLASS="QUOTE">"易变"</SPAN>(volatile)函数它是<TT CLASS="LITERAL">v</TT>，其结果可能在任何时候变化。
<TT CLASS="LITERAL">v</TT>也用于那些有副作用的函数，因此调用它们无法得到优化。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">pronargs</TT></TD><TD><TT CLASS="TYPE">int2</TT></TD><TD>&nbsp;</TD><TD>参数数目</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">pronargdefaults</TT></TD><TD><TT CLASS="TYPE">int2</TT></TD><TD>&nbsp;</TD><TD>有缺省值的参数的数量</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">prorettype</TT></TD><TD><TT CLASS="TYPE">oid</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-type.html"><TT CLASS="STRUCTNAME">pg_type</TT></A>.oid</TT></TD><TD>返回值的数据类型</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proargtypes</TT></TD><TD><TT CLASS="TYPE">oidvector</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-type.html"><TT CLASS="STRUCTNAME">pg_type</TT></A>.oid</TT></TD><TD>
一个存放函数参数的数据类型的数组。数组里只包括输入参数(包括<TT CLASS="LITERAL">INOUT</TT>和
<TT CLASS="LITERAL">VARIADIC</TT>参数)，因此代表该函数的调用签名(接口)。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proallargtypes</TT></TD><TD><TT CLASS="TYPE">oid[]</TT></TD><TD><TT CLASS="LITERAL"><A HREF="catalog-pg-type.html"><TT CLASS="STRUCTNAME">pg_type</TT></A>.oid</TT></TD><TD>
一个包含函数参数的数据类型的数组。数组里包括所有参数的类型(包括<TT CLASS="LITERAL">OUT</TT>
和<TT CLASS="LITERAL">INOUT</TT>参数)；不过，如果所有参数都是<TT CLASS="LITERAL">IN</TT>参数，
那么这个字段就会是空。请注意数组下标是以 1 为起点的，而因为历史原因，
<TT CLASS="STRUCTFIELD">proargtypes</TT>的下标起点为 0 。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proargmodes</TT></TD><TD><TT CLASS="TYPE">char[]</TT></TD><TD>&nbsp;</TD><TD>
一个保存函数参数模式的数组，编码如下：<TT CLASS="LITERAL">i</TT>表示<TT CLASS="LITERAL">IN</TT>参数，
<TT CLASS="LITERAL">o</TT>表示<TT CLASS="LITERAL">OUT</TT>参数，<TT CLASS="LITERAL">b</TT>表示<TT CLASS="LITERAL">INOUT</TT>参数，
<TT CLASS="LITERAL">v</TT>表示<TT CLASS="LITERAL">VARIADIC</TT>参数，<TT CLASS="LITERAL">t</TT>表示<TT CLASS="LITERAL">TABLE</TT>参数。
如果所有参数都是<TT CLASS="LITERAL">IN</TT>参数，那么这个字段为空。请注意，
下标对应的是<TT CLASS="STRUCTFIELD">proallargtypes</TT>的位置，而不是<TT CLASS="STRUCTFIELD">proargtypes</TT>。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proargnames</TT></TD><TD><TT CLASS="TYPE">text[]</TT></TD><TD>&nbsp;</TD><TD>
一个保存函数参数的名字的数组。没有名字的参数在数组里设置为空字符串。
如果没有一个参数有名字，这个字段将是空。请注意，此数组的下标对应
<TT CLASS="STRUCTFIELD">proallargtypes</TT>而不是<TT CLASS="STRUCTFIELD">proargtypes</TT>。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proargdefaults</TT></TD><TD><TT CLASS="TYPE">pg_node_tree</TT></TD><TD>&nbsp;</TD><TD>
缺省值的表达式树（用<CODE CLASS="FUNCTION">nodeToString()</CODE>表示）。
是和<TT CLASS="STRUCTFIELD">pronargdefaults</TT>参数一起列出的，对应最后<TT CLASS="REPLACEABLE"><I>N</I></TT>个<SPAN CLASS="emphasis"><I CLASS="EMPHASIS">输入</I></SPAN>
参数（也就是，最后<TT CLASS="REPLACEABLE"><I>N</I></TT>个<TT CLASS="STRUCTFIELD">proargtypes</TT>位置）。
如果没有有缺省的参数，那么这个字段为null。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">prosrc</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>&nbsp;</TD><TD>
这个字段告诉函数处理器如何调用该函数。它实际上对于解释语言来说就是函数的源程序，
或者一个链接符号，一个文件名，或者是任何其它的东西，具体取决于语言/调用习惯的实现。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">probin</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>&nbsp;</TD><TD>
关于如何调用该函数的附加信息。同样，其含义也是和语言相关的。
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proconfig</TT></TD><TD><TT CLASS="TYPE">text[]</TT></TD><TD>&nbsp;</TD><TD>函数的运行时配置变量的本地设置</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">proacl</TT></TD><TD><TT CLASS="TYPE">aclitem[]</TT></TD><TD>&nbsp;</TD><TD>
访问权限；参阅<A HREF="sql-grant.html">GRANT</A>和<A HREF="sql-revoke.html">REVOKE</A>获取细节。
</TD></TR></TBODY></TABLE></DIV><P>对于内置和动态加载得编译函数，<TT CLASS="STRUCTFIELD">prosrc</TT>包含函数的 C 语言名字(链接符号)。
对于所有其它当前已知的语言类型，<TT CLASS="STRUCTFIELD">prosrc</TT>包含该函数的源文本。
<TT CLASS="STRUCTFIELD">probin</TT>除了用于动态加载的 C 函数之外没有其它用途，
这个时候它给出包含给函数的共享库的文件名。</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="catalog-pg-pltemplate.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="catalog-pg-range.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><TT CLASS="STRUCTNAME">pg_pltemplate</TT></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><TT CLASS="STRUCTNAME">pg_range</TT></TD></TR></TABLE></DIV></BODY></HTML>
