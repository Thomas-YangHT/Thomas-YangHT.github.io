<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>介绍</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="并发控制" HREF="http://school.yunwei.edu/manual/PostgreSQL/mvcc.html"><LINK REL="PREVIOUS" TITLE="并发控制" HREF="http://school.yunwei.edu/manual/PostgreSQL/mvcc.html"><LINK REL="NEXT" TITLE="事务隔离" HREF="transaction-iso.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/mvcc.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="并发控制" HREF="http://school.yunwei.edu/manual/PostgreSQL/mvcc.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/mvcc.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 13. 并发控制</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="事务隔离" HREF="transaction-iso.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="MVCC-INTRO">13.1. 介绍</A></H1><P> <SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>为开发者提供了丰富的对数据并发访问进行管理的工具。
在内部，<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>利用多版本并发控制(<ACRONYM CLASS="ACRONYM">MVCC</ACRONYM>)来维护数据的一致性。
这就意味着当检索数据时，每个事务看到的都只是一小段时间之前的数据快照(一个<I CLASS="FIRSTTERM">数据库版本</I>)，
而不是数据的当前状态。这样，通过对每个数据库会话提供<I CLASS="FIRSTTERM">事务隔离</I>，就避免了一个事务看到由其它并发事务的更新相同数据行而导致的不一致的数据。<ACRONYM CLASS="ACRONYM">MVCC</ACRONYM>通过避开传统数据库系统封锁的方法，最大限度地减少锁竞争以允许合理的多用户环境中的性能。</P><P> 使用<ACRONYM CLASS="ACRONYM">多版本并发控制</ACRONYM>比封锁模型的主要优点是在<ACRONYM CLASS="ACRONYM">MVCC</ACRONYM>里，
对检索(读)数据的锁请求与写数据的锁请求不冲突，所以读不会阻塞写，而写也从不阻塞读。甚至当通过创新的<I CLASS="FIRSTTERM">可串行化快照隔离</I> (<ACRONYM CLASS="ACRONYM">SSI</ACRONYM>)级别提供事务隔离的严格等级时，
<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>维持这样的保证。&#13;</P><P> 在<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>里也有表和行级别的封锁机制，用于给那些无法轻松接受<ACRONYM CLASS="ACRONYM">MVCC</ACRONYM>行为的应用。
不过，恰当地使用<ACRONYM CLASS="ACRONYM">MVCC</ACRONYM>总会提供比锁更好的性能。另外，由应用定义的咨询锁提供了一个获得不依赖于单独事务的锁的机制。</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/mvcc.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="transaction-iso.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">并发控制</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/mvcc.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">事务隔离</TD></TR></TABLE></DIV></BODY></HTML>
