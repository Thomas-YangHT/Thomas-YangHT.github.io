<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>几何函数和操作符</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="函数和操作符" HREF="http://school.yunwei.edu/manual/PostgreSQL/functions.html"><LINK REL="PREVIOUS" TITLE="支持枚举函数" HREF="functions-enum.html"><LINK REL="NEXT" TITLE="网络地址函数和操作符" HREF="functions-net.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/func.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="支持枚举函数" HREF="functions-enum.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/functions.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 9. 函数和操作符</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="网络地址函数和操作符" HREF="functions-net.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="FUNCTIONS-GEOMETRY">9.11. 几何函数和操作符</A></H1><P>有许多内置函数和操作符支持几何类型<TT CLASS="TYPE">point</TT>, <TT CLASS="TYPE">box</TT>,
<TT CLASS="TYPE">lseg</TT>, <TT CLASS="TYPE">line</TT>, <TT CLASS="TYPE">path</TT>, <TT CLASS="TYPE">polygon</TT>,
<TT CLASS="TYPE">circle</TT>，在<A HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-OP-TABLE">&#34920; 9-30</A>,
<A HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-FUNC-TABLE">&#34920; 9-31</A>,
<A HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-CONV-TABLE">&#34920; 9-32</A>中展示。</P><DIV CLASS="CAUTION"><P></P><TABLE CLASS="CAUTION" BORDER="1" WIDTH="100%"><TR><TD ALIGN="CENTER"><B>&#23567;&#24515;</B></TD></TR><TR><TD ALIGN="LEFT"><P>请注意<SPAN CLASS="QUOTE">"相同"</SPAN>操作符<TT CLASS="LITERAL">~=</TT>表示<TT CLASS="TYPE">point</TT>,<TT CLASS="TYPE">box</TT>,
<TT CLASS="TYPE">polygon</TT>,<TT CLASS="TYPE">circle</TT>类型在一般意义上相同。
这些类型有些还有一个<TT CLASS="LITERAL">=</TT>操作符，不过它只是比较相同的<SPAN CLASS="emphasis"><I CLASS="EMPHASIS">面积</I></SPAN>。
其它的标量比较操作符(<TT CLASS="LITERAL">&lt;=</TT>等)也是为这些类型比较面积。</P></TD></TR></TABLE></DIV><DIV CLASS="TABLE"><A NAME="FUNCTIONS-GEOMETRY-OP-TABLE"></A><P><B>&#34920; 9-30. 几何操作符</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><THEAD><TR><TH>操作符</TH><TH>描述</TH><TH>例子</TH></TR></THEAD><TBODY><TR><TD> <TT CLASS="LITERAL">+</TT> </TD><TD>平移</TD><TD><TT CLASS="LITERAL">box '((0,0),(1,1))' + point '(2.0,0)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">-</TT> </TD><TD>平移</TD><TD><TT CLASS="LITERAL">box '((0,0),(1,1))' - point '(2.0,0)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">*</TT> </TD><TD>伸缩/旋转</TD><TD><TT CLASS="LITERAL">box '((0,0),(1,1))' * point '(2.0,0)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">/</TT> </TD><TD>伸缩/旋转</TD><TD><TT CLASS="LITERAL">box '((0,0),(2,2))' / point '(2.0,0)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">#</TT> </TD><TD>交点或者交面</TD><TD><TT CLASS="LITERAL">'((1,-1),(-1,1))' # '((1,1),(-1,-1))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">#</TT> </TD><TD>路径或多边形顶点数</TD><TD><TT CLASS="LITERAL"># '((1,0),(0,1),(-1,0))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">@-@</TT> </TD><TD>长度或者周长</TD><TD><TT CLASS="LITERAL">@-@ path '((0,0),(1,0))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">@@</TT> </TD><TD>中心</TD><TD><TT CLASS="LITERAL">@@ circle '((0,0),10)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">##</TT> </TD><TD>第一个操作数相对第二个操作数的最近点</TD><TD><TT CLASS="LITERAL">point '(0,0)' ## lseg '((2,0),(0,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&lt;-&gt;</TT> </TD><TD>间距</TD><TD><TT CLASS="LITERAL">circle '((0,0),1)' &lt;-&gt; circle '((5,0),1)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&amp;&amp;</TT> </TD><TD>重叠？（有一个共同点为真。）</TD><TD><TT CLASS="LITERAL">box '((0,0),(1,1))' &amp;&amp; box '((0,0),(2,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&lt;&lt;</TT> </TD><TD>是否严格在左?</TD><TD><TT CLASS="LITERAL">circle '((0,0),1)' &lt;&lt; circle '((5,0),1)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&gt;&gt;</TT> </TD><TD>是否严格在右?</TD><TD><TT CLASS="LITERAL">circle '((5,0),1)' &gt;&gt; circle '((0,0),1)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&amp;&lt;</TT> </TD><TD>是否没有延伸到右边?</TD><TD><TT CLASS="LITERAL">box '((0,0),(1,1))' &amp;&lt; box '((0,0),(2,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&amp;&gt;</TT> </TD><TD>是否没有延伸到左边?</TD><TD><TT CLASS="LITERAL">box '((0,0),(3,3))' &amp;&gt; box '((0,0),(2,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&lt;&lt;|</TT> </TD><TD>严格在下?</TD><TD><TT CLASS="LITERAL">box '((0,0),(3,3))' &lt;&lt;| box '((3,4),(5,5))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">|&gt;&gt;</TT> </TD><TD>严格在上?</TD><TD><TT CLASS="LITERAL">box '((3,4),(5,5))' |&gt;&gt; box '((0,0),(3,3))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&amp;&lt;|</TT> </TD><TD>没有延伸到上面?</TD><TD><TT CLASS="LITERAL">box '((0,0),(1,1))' &amp;&lt;| box '((0,0),(2,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">|&amp;&gt;</TT> </TD><TD>没有延伸到下面?</TD><TD><TT CLASS="LITERAL">box '((0,0),(3,3))' |&amp;&gt; box '((0,0),(2,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&lt;^</TT> </TD><TD>低于(允许接触)?</TD><TD><TT CLASS="LITERAL">circle '((0,0),1)' &lt;^ circle '((0,5),1)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&gt;^</TT> </TD><TD>高于(允许接触)?</TD><TD><TT CLASS="LITERAL">circle '((0,5),1)' &gt;^ circle '((0,0),1)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">?#</TT> </TD><TD>相交?</TD><TD><TT CLASS="LITERAL">lseg '((-1,0),(1,0))' ?# box '((-2,-2),(2,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">?-</TT> </TD><TD>水平?</TD><TD><TT CLASS="LITERAL">?- lseg '((-1,0),(1,0))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">?-</TT> </TD><TD>水平对齐?</TD><TD><TT CLASS="LITERAL">point '(1,0)' ?- point '(0,0)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">?|</TT> </TD><TD>竖直?</TD><TD><TT CLASS="LITERAL">?| lseg '((-1,0),(1,0))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">?|</TT> </TD><TD>竖直对齐?</TD><TD><TT CLASS="LITERAL">point '(0,1)' ?| point '(0,0)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">?-|</TT> </TD><TD>垂直?</TD><TD><TT CLASS="LITERAL">lseg '((0,0),(0,1))' ?-| lseg '((0,0),(1,0))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">?||</TT> </TD><TD>平行?</TD><TD><TT CLASS="LITERAL">lseg '((-1,0),(1,0))' ?|| lseg '((-1,2),(1,2))'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">@&gt;</TT> </TD><TD>包含?</TD><TD><TT CLASS="LITERAL">circle '((0,0),2)' @&gt; point '(1,1)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">&lt;@</TT> </TD><TD>包含或在...上?</TD><TD><TT CLASS="LITERAL">point '(1,1)' &lt;@ circle '((0,0),2)'</TT></TD></TR><TR><TD> <TT CLASS="LITERAL">~=</TT> </TD><TD>与...相同?</TD><TD><TT CLASS="LITERAL">polygon '((0,0),(1,1))' ~= polygon '((1,1),(0,0))'</TT></TD></TR></TBODY></TABLE></DIV><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>&#27880;&#24847;: </B>在<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN> 8.2 之前，包含操作符<TT CLASS="LITERAL">@&gt;</TT>
和<TT CLASS="LITERAL">&lt;@</TT>被分别称为<TT CLASS="LITERAL">~</TT>和<TT CLASS="LITERAL">@</TT>。
我们反对使用这两个旧名字(当前仍然可以使用)，它们将来会被废除。</P></BLOCKQUOTE></DIV><DIV CLASS="TABLE"><A NAME="FUNCTIONS-GEOMETRY-FUNC-TABLE"></A><P><B>&#34920; 9-31. 几何函数</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><THEAD><TR><TH>函数</TH><TH>返回类型</TH><TH>描述</TH><TH>例子</TH></TR></THEAD><TBODY><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">area(<TT CLASS="REPLACEABLE"><I>object</I></TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">double precision</TT></TD><TD>面积</TD><TD><TT CLASS="LITERAL">area(box '((0,0),(1,1))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">center(<TT CLASS="REPLACEABLE"><I>object</I></TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">point</TT></TD><TD>中心</TD><TD><TT CLASS="LITERAL">center(box '((0,0),(1,2))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">diameter(<TT CLASS="TYPE">circle</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">double precision</TT></TD><TD>圆直径</TD><TD><TT CLASS="LITERAL">diameter(circle '((0,0),2.0)')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">height(<TT CLASS="TYPE">box</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">double precision</TT></TD><TD>矩形的竖直高度</TD><TD><TT CLASS="LITERAL">height(box '((0,0),(1,1))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">isclosed(<TT CLASS="TYPE">path</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">boolean</TT></TD><TD>闭合路径?</TD><TD><TT CLASS="LITERAL">isclosed(path '((0,0),(1,1),(2,0))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">isopen(<TT CLASS="TYPE">path</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">boolean</TT></TD><TD>开路径?</TD><TD><TT CLASS="LITERAL">isopen(path '[(0,0),(1,1),(2,0)]')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">length(<TT CLASS="REPLACEABLE"><I>object</I></TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">double precision</TT></TD><TD>长度</TD><TD><TT CLASS="LITERAL">length(path '((-1,0),(1,0))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">npoints(<TT CLASS="TYPE">path</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">int</TT></TD><TD>点数</TD><TD><TT CLASS="LITERAL">npoints(path '[(0,0),(1,1),(2,0)]')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">npoints(<TT CLASS="TYPE">polygon</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">int</TT></TD><TD>点数</TD><TD><TT CLASS="LITERAL">npoints(polygon '((1,1),(0,0))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">pclose(<TT CLASS="TYPE">path</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">path</TT></TD><TD>把路径转换为闭合</TD><TD><TT CLASS="LITERAL">pclose(path '[(0,0),(1,1),(2,0)]')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">popen(<TT CLASS="TYPE">path</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">path</TT></TD><TD>把路径转换为开放</TD><TD><TT CLASS="LITERAL">popen(path '((0,0),(1,1),(2,0))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">radius(<TT CLASS="TYPE">circle</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">double precision</TT></TD><TD>圆半径</TD><TD><TT CLASS="LITERAL">radius(circle '((0,0),2.0)')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">width(<TT CLASS="TYPE">box</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">double precision</TT></TD><TD>矩形的水平尺寸</TD><TD><TT CLASS="LITERAL">width(box '((0,0),(1,1))')</TT></TD></TR></TBODY></TABLE></DIV><DIV CLASS="TABLE"><A NAME="FUNCTIONS-GEOMETRY-CONV-TABLE"></A><P><B>&#34920; 9-32. 几何类型转换函数</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><THEAD><TR><TH>函数</TH><TH>返回类型</TH><TH>描述</TH><TH>例子</TH></TR></THEAD><TBODY><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">box(<TT CLASS="TYPE">circle</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">box</TT></TD><TD>将圆转换成矩形</TD><TD><TT CLASS="LITERAL">box(circle '((0,0),2.0)')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">box(<TT CLASS="TYPE">point</TT>, <TT CLASS="TYPE">point</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">box</TT></TD><TD>将点转换成矩形</TD><TD><TT CLASS="LITERAL">box(point '(0,0)', point '(1,1)')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">box(<TT CLASS="TYPE">polygon</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">box</TT></TD><TD>将多边形转换成矩形</TD><TD><TT CLASS="LITERAL">box(polygon '((0,0),(1,1),(2,0))')</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">circle(<TT CLASS="TYPE">box</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">circle</TT></TD><TD>矩形转换成圆</TD><TD><TT CLASS="LITERAL">circle(box '((0,0),(1,1))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">circle(<TT CLASS="TYPE">point</TT>, <TT CLASS="TYPE">double precision</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">circle</TT></TD><TD>将圆心和半径转换成圆</TD><TD><TT CLASS="LITERAL">circle(point '(0,0)', 2.0)</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">circle(<TT CLASS="TYPE">polygon</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">circle</TT></TD><TD>将多边形转换成圆</TD><TD><TT CLASS="LITERAL">circle(polygon '((0,0),(1,1),(2,0))')</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">lseg(<TT CLASS="TYPE">box</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">lseg</TT></TD><TD>矩形对角线转化成线段</TD><TD><TT CLASS="LITERAL">lseg(box '((-1,0),(1,0))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">lseg(<TT CLASS="TYPE">point</TT>, <TT CLASS="TYPE">point</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">lseg</TT></TD><TD>点转换成线段</TD><TD><TT CLASS="LITERAL">lseg(point '(-1,0)', point '(1,0)')</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">path(<TT CLASS="TYPE">polygon</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">path</TT></TD><TD>多边形转换成路径</TD><TD><TT CLASS="LITERAL">path(polygon '((0,0),(1,1),(2,0))')</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">point</CODE>(<TT CLASS="TYPE">double
precision</TT>, <TT CLASS="TYPE">double precision</TT>)</TT>
</TD><TD><TT CLASS="TYPE">point</TT></TD><TD>结点</TD><TD><TT CLASS="LITERAL">point(23.4, -44.5)</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">point(<TT CLASS="TYPE">box</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">point</TT></TD><TD>矩形的中心</TD><TD><TT CLASS="LITERAL">point(box '((-1,0),(1,0))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">point(<TT CLASS="TYPE">circle</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">point</TT></TD><TD>圆心</TD><TD><TT CLASS="LITERAL">point(circle '((0,0),2.0)')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">point(<TT CLASS="TYPE">lseg</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">point</TT></TD><TD>线段的中心</TD><TD><TT CLASS="LITERAL">point(lseg '((-1,0),(1,0))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">point(<TT CLASS="TYPE">polygon</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">point</TT></TD><TD>多边形的中心</TD><TD><TT CLASS="LITERAL">point(polygon '((0,0),(1,1),(2,0))')</TT></TD></TR><TR><TD>
<TT CLASS="LITERAL"><CODE CLASS="FUNCTION">polygon(<TT CLASS="TYPE">box</TT>)</CODE></TT>
</TD><TD><TT CLASS="TYPE">polygon</TT></TD><TD>矩形转换成 4 点多边形</TD><TD><TT CLASS="LITERAL">polygon(box '((0,0),(1,1))')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">polygon(<TT CLASS="TYPE">circle</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">polygon</TT></TD><TD>圆转换成 12 点多边形</TD><TD><TT CLASS="LITERAL">polygon(circle '((0,0),2.0)')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">polygon(<TT CLASS="REPLACEABLE"><I>npts</I></TT>, <TT CLASS="TYPE">circle</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">polygon</TT></TD><TD>圆转换成<TT CLASS="REPLACEABLE"><I>npts</I></TT>点多边形</TD><TD><TT CLASS="LITERAL">polygon(12, circle '((0,0),2.0)')</TT></TD></TR><TR><TD><TT CLASS="LITERAL"><CODE CLASS="FUNCTION">polygon(<TT CLASS="TYPE">path</TT>)</CODE></TT></TD><TD><TT CLASS="TYPE">polygon</TT></TD><TD>路径转换成多边形</TD><TD><TT CLASS="LITERAL">polygon(path '((0,0),(1,1),(2,0))')</TT></TD></TR></TBODY></TABLE></DIV><P>我们可以把一个<TT CLASS="TYPE">point</TT>的两个组成部分当作索引分别为 0 和 1 的数组元素进行访问。
比如，如果<TT CLASS="LITERAL">t.p</TT>是一个<TT CLASS="TYPE">point</TT>字段，那么<TT CLASS="LITERAL">SELECT p[0] FROM t</TT>
检索 X 座标而<TT CLASS="LITERAL">UPDATE t SET p[1] = ...</TT>改变 Y 座标。同样，
<TT CLASS="TYPE">box</TT>或<TT CLASS="TYPE">lseg</TT>的值可以当作两个<TT CLASS="TYPE">point</TT>的数组值看待。</P><P><CODE CLASS="FUNCTION">area</CODE>函数可以用于<TT CLASS="TYPE">box</TT>, <TT CLASS="TYPE">circle</TT>,
<TT CLASS="TYPE">path</TT>类型。<CODE CLASS="FUNCTION">area</CODE>函数操作<TT CLASS="TYPE">path</TT>数据类型的时候，
只有在<TT CLASS="TYPE">path</TT>的点没有交叉的情况下才可用。比如，<TT CLASS="TYPE">path</TT>
<TT CLASS="LITERAL">'((0,0),(0,1),(2,1),(2,2),(1,2),(1,0),(0,0))'::PATH</TT>是不行的，
而下面的视觉等效<TT CLASS="TYPE">path</TT> <TT CLASS="LITERAL">'((0,0),(0,1),(1,1),(1,2),(2,2),(2,1),(1,1),(1,0),(0,0))'::PATH</TT>
就可以。如果交叉和不交叉的<TT CLASS="TYPE">path</TT>概念让你糊涂，那么把上面两个<TT CLASS="TYPE">path</TT>
都画在纸上，你就明白了。</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="functions-enum.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="functions-net.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">支持枚举函数</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/functions.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">网络地址函数和操作符</TD></TR></TABLE></DIV></BODY></HTML>
