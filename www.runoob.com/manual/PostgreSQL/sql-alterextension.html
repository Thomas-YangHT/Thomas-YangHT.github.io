<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>ALTER EXTENSION</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="SQL 命令" HREF="http://school.yunwei.edu/manual/PostgreSQL/sql-commands.html"><LINK REL="PREVIOUS" TITLE="ALTER DOMAIN" HREF="sql-alterdomain.html"><LINK REL="NEXT" TITLE="ALTER EVENT TRIGGER" HREF="sql-altereventtrigger.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="REFENTRY">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/ref/alter_extension.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="ALTER DOMAIN" HREF="sql-alterdomain.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/sql-commands.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="ALTER EVENT TRIGGER" HREF="sql-altereventtrigger.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><H1><A NAME="SQL-ALTEREXTENSION"></A>ALTER EXTENSION</H1><DIV CLASS="REFNAMEDIV"><A NAME="AEN64404"></A><H2>&#21517;&#31216;</H2>ALTER EXTENSION&nbsp;--&nbsp; 修改扩展定义
</DIV><DIV CLASS="REFSYNOPSISDIV"><A NAME="AEN64409"></A><H2>&#22823;&#32434;</H2><PRE CLASS="SYNOPSIS">ALTER EXTENSION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> UPDATE [ TO <TT
CLASS="REPLACEABLE"
><I
>new_version</I
></TT
> ]
ALTER EXTENSION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> SET SCHEMA <TT
CLASS="REPLACEABLE"
><I
>new_schema</I
></TT
>
ALTER EXTENSION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ADD <TT
CLASS="REPLACEABLE"
><I
>member_object</I
></TT
>
ALTER EXTENSION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> DROP <TT
CLASS="REPLACEABLE"
><I
>member_object</I
></TT
>

<SPAN
CLASS="phrase"
><SPAN
CLASS="PHRASE"
>where <TT
CLASS="REPLACEABLE"
><I
>member_object</I
></TT
> is:</SPAN
></SPAN
>

  AGGREGATE <TT
CLASS="REPLACEABLE"
><I
>agg_name</I
></TT
> (<TT
CLASS="REPLACEABLE"
><I
>agg_type</I
></TT
> [, ...] ) |
  CAST (<TT
CLASS="REPLACEABLE"
><I
>source_type</I
></TT
> AS <TT
CLASS="REPLACEABLE"
><I
>target_type</I
></TT
>) |
  COLLATION <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  CONVERSION <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  DOMAIN <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  EVENT TRIGGER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  FOREIGN DATA WRAPPER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  FOREIGN TABLE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  FUNCTION <TT
CLASS="REPLACEABLE"
><I
>function_name</I
></TT
> ( [ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [, ...] ] ) |
  MATERIALIZED VIEW <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  OPERATOR <TT
CLASS="REPLACEABLE"
><I
>operator_name</I
></TT
> (<TT
CLASS="REPLACEABLE"
><I
>left_type</I
></TT
>, <TT
CLASS="REPLACEABLE"
><I
>right_type</I
></TT
>) |
  OPERATOR CLASS <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> USING <TT
CLASS="REPLACEABLE"
><I
>index_method</I
></TT
> |
  OPERATOR FAMILY <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> USING <TT
CLASS="REPLACEABLE"
><I
>index_method</I
></TT
> |
  [ PROCEDURAL ] LANGUAGE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  SCHEMA <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  SEQUENCE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  SERVER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TABLE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH CONFIGURATION <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH DICTIONARY <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH PARSER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH TEMPLATE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TYPE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  VIEW <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
></PRE></DIV><DIV CLASS="REFSECT1"><A NAME="AEN64454"></A><H2>描述</H2><P> <TT CLASS="COMMAND">ALTER EXTENSION</TT> 修改一个已安装的扩展的定义. 这里有几种方式:
<P></P></P><DIV CLASS="VARIABLELIST"><DL><DT><TT CLASS="LITERAL">UPDATE</TT></DT><DD><P> 这种方式更新这个扩展到一个新的版本. 这个扩展必须满足一个适用的更新脚本(或者一系列脚本)
这样就能修改当前安装版本到一个要求的版本.
</P></DD><DT><TT CLASS="LITERAL">SET SCHEMA</TT></DT><DD><P> 这种方式移动扩展对象到另一个模式. 这个扩展必须<I CLASS="FIRSTTERM">relocatable</I>才能使命令成功.
</P></DD><DT><TT CLASS="LITERAL">ADD <TT CLASS="REPLACEABLE"><I>member_object</I></TT></TT></DT><DD><P> 这种方式添加一个已存在对象到扩展. 这主要在扩展更新脚本上有用.
这个对象接着会被视为扩展的成员; 显而易见,该对象只能通过取消扩展来取消 .
</P></DD><DT><TT CLASS="LITERAL">DROP <TT CLASS="REPLACEABLE"><I>member_object</I></TT></TT></DT><DD><P> 这个方式从扩展上移除一个成员对象. 主要在扩展更新脚本上有用 .这个对象没有被取消, 只是从扩展里分开了.
</P></DD></DL></DIV><P>
参考<A HREF="extend-extensions.html">第 35.15 &#33410;</A> 来获取更多有关这些操作的信息.
</P><P> 你必须拥有扩展来使用 <TT CLASS="COMMAND">ALTER EXTENSION</TT>.
这个 <TT CLASS="LITERAL">ADD</TT>/<TT CLASS="LITERAL">DROP</TT> 方式要求
添加/删除对象的所有权.
</P></DIV><DIV CLASS="REFSECT1"><A NAME="AEN64487"></A><H2>参数</H2><P> <P></P></P><DIV CLASS="VARIABLELIST"><DL><DT><TT CLASS="REPLACEABLE"><I>name</I></TT></DT><DD><P> 已安装扩展的名称.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>new_version</I></TT></DT><DD><P> 希望的扩展新版本. 这个能被标识符和字面字符重写.如果不是指定的,
<TT CLASS="COMMAND">ALTER EXTENSION UPDATE</TT> 尝试去更新到不管是什么在扩展的控制文件中显示的默认版本.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>new_schema</I></TT></DT><DD><P> 给扩展的新模式.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>object_name</I></TT><BR><TT CLASS="REPLACEABLE"><I>agg_name</I></TT><BR><TT CLASS="REPLACEABLE"><I>function_name</I></TT><BR><TT CLASS="REPLACEABLE"><I>operator_name</I></TT></DT><DD><P> 从扩展里被被添加或移除的对象的名称.表, 聚集 , 域, 外链表,函数,操作符,
操作符类, 操作符族,序列, 文本搜索对象,类型, 和能被模式合格的视图的名称.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>agg_type</I></TT></DT><DD><P> 在聚集函数操作上的一个输入数据类型.
去引用一个零参数聚集函数,写 <TT CLASS="LITERAL">*</TT>
代替这些输入数据类型列表.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>source_type</I></TT></DT><DD><P>
强制转换的源数据类型的名称.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>target_type</I></TT></DT><DD><P> 强制转换的目标数据类型的名称.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>argmode</I></TT></DT><DD><P> 这个函数参数的模型: <TT CLASS="LITERAL">IN</TT>, <TT CLASS="LITERAL">OUT</TT>,
<TT CLASS="LITERAL">INOUT</TT>, 或者 <TT CLASS="LITERAL">VARIADIC</TT>.
如果省略的话, 默认的是 <TT CLASS="LITERAL">IN</TT>.
注意 <TT CLASS="COMMAND">ALTER EXTENSION</TT> 不关心<TT CLASS="LITERAL">OUT</TT>参数 , 因为确认函数的一致性只需要输入参数.因此列出 <TT CLASS="LITERAL">IN</TT>, <TT CLASS="LITERAL">INOUT</TT>, 和 <TT CLASS="LITERAL">VARIADIC</TT> 参数就足够了.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>argname</I></TT></DT><DD><P> 函数参数的名称.
注意<TT CLASS="COMMAND">ALTER EXTENSION</TT>不关心参数名称, 因为确认函数的一致性只需要参数数据类型.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>argtype</I></TT></DT><DD><P> 函数参数的数据类型(可以有模式修饰), 如果任何.
</P></DD><DT><TT CLASS="REPLACEABLE"><I>left_type</I></TT><BR><TT CLASS="REPLACEABLE"><I>right_type</I></TT></DT><DD><P> 操作符的参数的数据类型(可以有模式修饰). 为前缀或后缀运算符的丢失参数写<TT CLASS="LITERAL">NONE</TT> .
</P></DD><DT><TT CLASS="LITERAL">PROCEDURAL</TT></DT><DD><P> 这是一个干扰词.
</P></DD></DL></DIV><P>
</P></DIV><DIV CLASS="REFSECT1"><A NAME="AEN64573"></A><H2>示例</H2><P> 更新 <TT CLASS="LITERAL">hstore</TT> 扩展到版本 2.0:
</P><PRE CLASS="PROGRAMLISTING">ALTER EXTENSION hstore UPDATE TO '2.0';</PRE><P>
</P><P> 更新 <TT CLASS="LITERAL">hstore</TT>扩展的模式为<TT CLASS="LITERAL">utils</TT>:
</P><PRE CLASS="PROGRAMLISTING">ALTER EXTENSION hstore SET SCHEMA utils;</PRE><P>
</P><P> 添加一个已存在的函数给 <TT CLASS="LITERAL">hstore</TT> 扩展:
</P><PRE CLASS="PROGRAMLISTING">ALTER EXTENSION hstore ADD FUNCTION populate_record(anyelement, hstore);</PRE><P></P></DIV><DIV CLASS="REFSECT1"><A NAME="AEN64585"></A><H2>兼容性</H2><P> <TT CLASS="COMMAND">ALTER EXTENSION</TT> 是一个 <SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>扩展.
</P></DIV><DIV CLASS="REFSECT1"><A NAME="SQL-ALTEREXTENSION-SEE-ALSO"></A><H2>参阅</H2><A HREF="sql-createextension.html">CREATE EXTENSION</A>, <A HREF="sql-dropextension.html">DROP EXTENSION</A></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="sql-alterdomain.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="sql-altereventtrigger.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">ALTER DOMAIN</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/sql-commands.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">ALTER EVENT TRIGGER</TD></TR></TABLE></DIV></BODY></HTML>
