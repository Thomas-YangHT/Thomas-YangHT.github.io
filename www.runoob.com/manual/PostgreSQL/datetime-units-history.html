<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>单位历史</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="日期/时间支持" HREF="http://school.yunwei.edu/manual/PostgreSQL/datetime-appendix.html"><LINK REL="PREVIOUS" TITLE="日期/时间配置文件" HREF="datetime-config-files.html"><LINK REL="NEXT" TITLE="SQL关键字" HREF="http://school.yunwei.edu/manual/PostgreSQL/sql-keywords-appendix.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/datetime.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="日期/时间配置文件" HREF="datetime-config-files.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/datetime-appendix.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#38468;&#24405; B. 日期/时间支持</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="SQL关键字" HREF="http://school.yunwei.edu/manual/PostgreSQL/sql-keywords-appendix.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="DATETIME-UNITS-HISTORY">B.4. 单位历史</A></H1><P>该SQL标准指出<SPAN CLASS="QUOTE">"在一个<SPAN CLASS="QUOTE">'日期时间形式'</SPAN>定义中，
<SPAN CLASS="QUOTE">'日期时间值'</SPAN>按照阳历
通过日期和时间的自然规则被限制"</SPAN>。
<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>遵循SQL标准通过阳历计算特定日期，甚至使用日历的几年前。
这条规则被称为<I CLASS="FIRSTTERM">预期的阳历</I>。</P><P> 儒略日是由Julius Caesar在公元前45年引入的，直到1582年开始使用公历之前，
西方国家一直使用儒略日。
在儒略日中，一年近似等于365+1/4=365.25天，
大约在128年的出现一个1天的错。</P><P> 不断积累的历法错误促使教皇格里高利十三世(Gregory XIII)按照与
弥撒议会(Council of Trent)一致的精神改革了历法。在罗马历法里，
一年是近似365 + 97 / 400天= 365.2425天。
因此对应于罗马历法，大约要3300年，才会积累一天的误差。</P><P>
近似的365+97/400是通过利用下面的规则，规定每400年有97个闰年实现的：
<P></P><TABLE BORDER="0"><TBODY><TR><TD>
每个可被4整除的年是一个闰年
</TD></TR><TR><TD>
不过，可被100整除的年不是闰年
</TD></TR><TR><TD>
但是，可以被400整除的年还是闰年。
</TD></TR></TBODY></TABLE><P></P>
因此，1700,1800,1900,2100和2200年都不是闰年。而1600,2000,2400年是闰年。
相比而言，旧式的Julian历法里面只有能被4整除的年是闰年。
</P><P>
罗马教皇在1582年2月宣布从1582的10月中删除10天，
也就是10月15号紧跟在10月4号的后面。
信奉天主教的国家(意大利、波兰、葡萄牙、西班牙等)
很快就遵循了这个规定，但新教国家拒绝使用，
而希腊东正教国家却一直拖延到20世纪开始的时候才逐渐遵守这个规定。
大英帝国及其殖民地(包含今天的美国)在1752年开始引用使用，
也就是1752年9月2号之后紧跟着14号，
这就是为什么Unix系统上的<TT CLASS="COMMAND">cal</TT>程序会产生如下输出的原因：
</P><PRE CLASS="SCREEN">$ <KBD
CLASS="USERINPUT"
>cal 9 1752</KBD
>
   September 1752
 S  M Tu  W Th  F  S
       1  2 14 15 16
17 18 19 20 21 22 23
24 25 26 27 28 29 30</PRE><P>
但是，当然，这个日历对于英国领土是唯一有效的，不是其它地方。
因为尝试跟踪在不同的时间不同地方使用的实际日历是困难和混乱的，
<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>不会尝试，而是遵循所有日期的阳历
规则，即使这种方法是历史上不准确的。
</P><P>在世界的不同地方，发明了许多不同的历法，有许多比罗马历法系统还早。
例如，中国历法的最早应用可以追溯到公元前14世纪。
传说黄帝在公元前2637就发明了这个历法，也就是日历。
中华人民共和国使用罗马历法用于民用。
中国历法用于决定节日/节气。</P><P> <I CLASS="FIRSTTERM">Julian Date</I>系统是日历的另一种类型，
跟Julian calendar无关，尽管与这个日历类似命名是令人费解的。
"Julian Date"系统是法国学者Joseph Justus Scaliger(1540-1609)发明的，
可能是取自Scaliger的父亲的名字，
意大利学者Julius Caesar Scaliger(1484-1558)。在Julian日期系统，
每天产生一个序列号，从JD0开始（有时被叫做the Julian日期）。
JD0在Julian日历中对应公元前4713年1月1日，在Gregorian日历中对应公元前4714年11月24日。
Julian日期计算经常在天文学家标注夜间观测时被用到，
因此一个日期就是从一个正午UTC到下一个正午UTC。
而不是从午夜到另一个午夜：
JD0设计的24小时是从公元前4714年11月24日的正午UTC到公元前4714年11月25日的正午UTC。</P><P> 尽管<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>在输入输出日期时支持Julian Date日期符号
（也用在一些内部的日期时间日历上），
它不观察从正午到正午的精密运行。
<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>运行Julian Date日期系统从午夜到午夜。</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="datetime-config-files.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/sql-keywords-appendix.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">日期/时间配置文件</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/datetime-appendix.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><ACRONYM CLASS="ACRONYM">SQL</ACRONYM>关键字</TD></TR></TABLE></DIV></BODY></HTML>
