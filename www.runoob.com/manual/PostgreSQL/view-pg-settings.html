<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>pg_settings</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="系统表" HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html"><LINK REL="PREVIOUS" TITLE="pg_seclabels" HREF="view-pg-seclabels.html"><LINK REL="NEXT" TITLE="pg_shadow" HREF="view-pg-shadow.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/catalogs.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="pg_seclabels" HREF="view-pg-seclabels.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 47. 系统表</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="pg_shadow" HREF="view-pg-shadow.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="VIEW-PG-SETTINGS">47.66. <TT CLASS="STRUCTNAME">pg_settings</TT></A></H1><P><TT CLASS="STRUCTNAME">pg_settings</TT>提供了对服务器运行时参数的访问。
它实际上是<A HREF="sql-show.html">SHOW</A>和<A HREF="sql-set.html">SET</A>命令的另外一个接口。
它还提供一些用<TT CLASS="COMMAND">SHOW</TT>不能直接获取的参数的访问，比如最大和最小值。</P><DIV CLASS="TABLE"><A NAME="AEN97732"></A><P><B>&#34920; 47-67. <TT CLASS="STRUCTNAME">pg_settings</TT> 字段</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><THEAD><TR><TH>名字</TH><TH>类型</TH><TH>描述</TH></TR></THEAD><TBODY><TR><TD><TT CLASS="STRUCTFIELD">name</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>运行时配置参数名</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">setting</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>参数的当前值</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">unit</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>参数的隐含单元</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">category</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>参数的逻辑组</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">short_desc</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>参数的一个简短的描述</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">extra_desc</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>有关参数的额外的，更详细的描述</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">context</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>设置这个参数的值要求的环境（见下文）</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">vartype</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>参数类型(<TT CLASS="LITERAL">bool</TT>, <TT CLASS="LITERAL">enum</TT>,
<TT CLASS="LITERAL">integer</TT>, <TT CLASS="LITERAL">real</TT>, <TT CLASS="LITERAL">string</TT>)
</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">source</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>当前参数值的来源</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">min_val</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>该参数允许的最小值(非数字值为 null)</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">max_val</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>这个参数允许的最大的数值(非数字值为 null)</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">enumvals</TT></TD><TD><TT CLASS="TYPE">text[]</TT></TD><TD>枚举参数允许的值（非枚举值为null）</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">boot_val</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>如果参数没有设置则为服务器启动时假设的参数值</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">reset_val</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD><TT CLASS="COMMAND">RESET</TT>在当前会话中将重设的参数值</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">sourcefile</TT></TD><TD><TT CLASS="TYPE">text</TT></TD><TD>设置当前值的配置文件（从源码而不是配置文件设置值或当通过非超级用户检查时为null）；
当在配置文件中使用<TT CLASS="LITERAL">include</TT>指令时是有帮助的。</TD></TR><TR><TD><TT CLASS="STRUCTFIELD">sourceline</TT></TD><TD><TT CLASS="TYPE">integer</TT></TD><TD>设置当前值的配置文件中的行编码
（从源码而不是配置文件设置值或当通过非超级用户检查时为null）
</TD></TR></TBODY></TABLE></DIV><P>有几个<TT CLASS="STRUCTFIELD">context</TT>的可能值。以减少困难的改变设置的顺序，它们是：</P><P></P><DIV CLASS="VARIABLELIST"><DL><DT><TT CLASS="LITERAL">internal</TT></DT><DD><P>不能直接更改这些设置；它们反映了内部确定的值。其中的一些可以通过用不同的配置选项重建服务器，
或通过改变提供给<TT CLASS="COMMAND">initdb</TT>的选项来更改。</P></DD><DT><TT CLASS="LITERAL">postmaster</TT></DT><DD><P>这些选项只在服务器启动时使用，所以任何改变都需要重启服务器。这些设置的值通常存储在
<TT CLASS="FILENAME">postgresql.conf</TT>文件中，或当服务器启动时传递给命令行。
当然，带有任何低<TT CLASS="STRUCTFIELD">context</TT>类型的设置也可以在服务器启动时设置。</P></DD><DT><TT CLASS="LITERAL">sighup</TT></DT><DD><P>这些设置可以在<TT CLASS="FILENAME">postgresql.conf</TT>中改变而不用重启服务器。
发送一个<SPAN CLASS="SYSTEMITEM">SIGHUP</SPAN>信号到主进程使其重读<TT CLASS="FILENAME">postgresql.conf</TT>
并应用改变。主进程也将<SPAN CLASS="SYSTEMITEM">SIGHUP</SPAN>信号传递给它的子进程，
这样它们所有都使用新值。</P></DD><DT><TT CLASS="LITERAL">backend</TT></DT><DD><P>这些设置可以在<TT CLASS="FILENAME">postgresql.conf</TT>中改变而不用重启服务器；
它们也可以在连接需求包中为特定的会话设置（例如，通过<SPAN CLASS="APPLICATION">libpq</SPAN>的
<TT CLASS="LITERAL">PGOPTIONS</TT>环境变量）。不过，这些设置在会话启动后永远不会改变。
如果你在<TT CLASS="FILENAME">postgresql.conf</TT>中改变了它们，那么发送一个<SPAN CLASS="SYSTEMITEM">SIGHUP</SPAN>
信号到主进程使其重读<TT CLASS="FILENAME">postgresql.conf</TT>。新值将只影响随后加载的会话。</P></DD><DT><TT CLASS="LITERAL">superuser</TT></DT><DD><P>这些值可以在<TT CLASS="FILENAME">postgresql.conf</TT>中设置，或在一个会话中通过<TT CLASS="COMMAND">SET</TT>
命令设置；但是只有超级用户可以通过<TT CLASS="COMMAND">SET</TT>改变它们。在<TT CLASS="FILENAME">postgresql.conf</TT>
中改变它们将只在没有会话本地值是使用<TT CLASS="COMMAND">SET</TT>建立的时影响现有会话。</P></DD><DT><TT CLASS="LITERAL">user</TT></DT><DD><P>这些值可以在<TT CLASS="FILENAME">postgresql.conf</TT>中设置，或在一个会话中通过<TT CLASS="COMMAND">SET</TT>
命令设置。允许任何用户改变他们的会话本地值。<TT CLASS="FILENAME">postgresql.conf</TT>
中的改变将只在没有会话本地值是使用<TT CLASS="COMMAND">SET</TT>建立的时影响现有会话。</P></DD></DL></DIV><P>参阅<A HREF="config-setting.html">第 18.1 &#33410;</A>获取更多关于改变这些参数的各种方式的信息。</P><P>不能对<TT CLASS="STRUCTNAME">pg_settings</TT>视图进行插入或者删除，但是可以更新。
对<TT CLASS="STRUCTNAME">pg_settings</TT>中的一行进行 <TT CLASS="COMMAND">UPDATE</TT>
等效于在该命名参数上执行<A HREF="sql-set.html">SET</A>命令。这个修改只影响当前会话使用的数值。
如果在一个最后退出的事务中发出了<TT CLASS="COMMAND">UPDATE</TT> 命令，那么<TT CLASS="COMMAND">UPDATE</TT>
命令的效果将在事务回滚之后消失。一旦包围它的事务提交，这个效果将固化，直到会话结束，
除非由其它的<TT CLASS="COMMAND">UPDATE</TT>或<TT CLASS="COMMAND">SET</TT>命令覆盖。</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="view-pg-seclabels.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="view-pg-shadow.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><TT CLASS="STRUCTNAME">pg_seclabels</TT></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/catalogs.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><TT CLASS="STRUCTNAME">pg_shadow</TT></TD></TR></TABLE></DIV></BODY></HTML>
