<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><TITLE>解析器</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 9.3.1 中文手册" HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html"><LINK REL="UP" TITLE="全文检索" HREF="http://school.yunwei.edu/manual/PostgreSQL/textsearch.html"><LINK REL="PREVIOUS" TITLE="附加功能" HREF="textsearch-features.html"><LINK REL="NEXT" TITLE="词典" HREF="textsearch-dictionaries.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="http://school.yunwei.edu/manual/PostgreSQL/stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><META NAME="creation" CONTENT="2015-07-11T14:00:17"></HEAD><BODY CLASS="SECT1">
<div style="text-align:right">
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/issues/new" target="_blank" title="在Github上报告问题（请注明问题内容及所在章节）">问题报告</a>
<a style="margin : 0px 0px 0px 10px;" href="https://github.com/postgres-cn/pgdoc-cn/edit/master/postgresql/doc/src/sgml/textsearch.sgml" target="_blank" title="直接在Github上纠错本页面">纠错本页面</a>
</div>
<DIV CLASS="NAVHEADER"><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TH COLSPAN="5" ALIGN="center" VALIGN="bottom"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html">PostgreSQL 9.3.1 中文手册</A></TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A TITLE="附加功能" HREF="textsearch-features.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="10%" ALIGN="left" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/textsearch.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="60%" ALIGN="center" VALIGN="bottom">&#31456; 12. 全文检索</TD><TD WIDTH="20%" ALIGN="right" VALIGN="top"><A TITLE="词典" HREF="textsearch-dictionaries.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR></TABLE><HR ALIGN="LEFT" WIDTH="100%"></DIV><DIV CLASS="SECT1"><H1 CLASS="SECT1"><A NAME="TEXTSEARCH-PARSERS">12.5. 解析器</A></H1><P> 文本搜索分析器负责分离原文档文本为<I CLASS="FIRSTTERM">标记</I>并且标识每个记号的类型，这里可能的类型集由解析器本身定义。
注意一个解析器并不修改文本&mdash;它只是确定合理的单词边界。因为这个限制范围，
为特定应用定制的分析器比自定义字典需要的更少。目前<SPAN CLASS="PRODUCTNAME">PostgreSQL</SPAN>提供了只有一个内置的解析器，
这已被用于一个广泛的应用中。</P><P> 内置分析器命名<TT CLASS="LITERAL">pg_catalog.default</TT>。它识别23种标记类型，显示在<A HREF="textsearch-parsers.html#TEXTSEARCH-DEFAULT-PARSER">&#34920; 12-1</A>中。</P><DIV CLASS="TABLE"><A NAME="TEXTSEARCH-DEFAULT-PARSER"></A><P><B>&#34920; 12-1. 缺省分析器的标记类型</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><THEAD><TR><TH>Alias</TH><TH>Description</TH><TH>Example</TH></TR></THEAD><TBODY><TR><TD><TT CLASS="LITERAL">asciiword</TT></TD><TD>Word, all ASCII letters</TD><TD><TT CLASS="LITERAL">elephant</TT></TD></TR><TR><TD><TT CLASS="LITERAL">word</TT></TD><TD>Word, all letters</TD><TD><TT CLASS="LITERAL">ma&ntilde;ana</TT></TD></TR><TR><TD><TT CLASS="LITERAL">numword</TT></TD><TD>Word, letters and digits</TD><TD><TT CLASS="LITERAL">beta1</TT></TD></TR><TR><TD><TT CLASS="LITERAL">asciihword</TT></TD><TD>Hyphenated word, all ASCII</TD><TD><TT CLASS="LITERAL">up-to-date</TT></TD></TR><TR><TD><TT CLASS="LITERAL">hword</TT></TD><TD>Hyphenated word, all letters</TD><TD><TT CLASS="LITERAL">l&oacute;gico-matem&aacute;tica</TT></TD></TR><TR><TD><TT CLASS="LITERAL">numhword</TT></TD><TD>Hyphenated word, letters and digits</TD><TD><TT CLASS="LITERAL">postgresql-beta1</TT></TD></TR><TR><TD><TT CLASS="LITERAL">hword_asciipart</TT></TD><TD>Hyphenated word part, all ASCII</TD><TD><TT CLASS="LITERAL">postgresql</TT> in the context <TT CLASS="LITERAL">postgresql-beta1</TT></TD></TR><TR><TD><TT CLASS="LITERAL">hword_part</TT></TD><TD>Hyphenated word part, all letters</TD><TD><TT CLASS="LITERAL">l&oacute;gico</TT> or <TT CLASS="LITERAL">matem&aacute;tica</TT>
in the context <TT CLASS="LITERAL">l&oacute;gico-matem&aacute;tica</TT></TD></TR><TR><TD><TT CLASS="LITERAL">hword_numpart</TT></TD><TD>Hyphenated word part, letters and digits</TD><TD><TT CLASS="LITERAL">beta1</TT> in the context
<TT CLASS="LITERAL">postgresql-beta1</TT></TD></TR><TR><TD><TT CLASS="LITERAL">email</TT></TD><TD>Email address</TD><TD><TT CLASS="LITERAL">foo@example.com</TT></TD></TR><TR><TD><TT CLASS="LITERAL">protocol</TT></TD><TD>Protocol head</TD><TD><TT CLASS="LITERAL">http://</TT></TD></TR><TR><TD><TT CLASS="LITERAL">url</TT></TD><TD>URL</TD><TD><TT CLASS="LITERAL">example.com/stuff/index.html</TT></TD></TR><TR><TD><TT CLASS="LITERAL">host</TT></TD><TD>Host</TD><TD><TT CLASS="LITERAL">example.com</TT></TD></TR><TR><TD><TT CLASS="LITERAL">url_path</TT></TD><TD>URL path</TD><TD><TT CLASS="LITERAL">/stuff/index.html</TT>, in the context of a URL</TD></TR><TR><TD><TT CLASS="LITERAL">file</TT></TD><TD>File or path name</TD><TD><TT CLASS="LITERAL">/usr/local/foo.txt</TT>, if not within a URL</TD></TR><TR><TD><TT CLASS="LITERAL">sfloat</TT></TD><TD>Scientific notation</TD><TD><TT CLASS="LITERAL">-1.234e56</TT></TD></TR><TR><TD><TT CLASS="LITERAL">float</TT></TD><TD>Decimal notation</TD><TD><TT CLASS="LITERAL">-1.234</TT></TD></TR><TR><TD><TT CLASS="LITERAL">int</TT></TD><TD>Signed integer</TD><TD><TT CLASS="LITERAL">-1234</TT></TD></TR><TR><TD><TT CLASS="LITERAL">uint</TT></TD><TD>Unsigned integer</TD><TD><TT CLASS="LITERAL">1234</TT></TD></TR><TR><TD><TT CLASS="LITERAL">version</TT></TD><TD>Version number</TD><TD><TT CLASS="LITERAL">8.3.0</TT></TD></TR><TR><TD><TT CLASS="LITERAL">tag</TT></TD><TD>XML tag</TD><TD><TT CLASS="LITERAL">&lt;a href="dictionaries.html"&gt;</TT></TD></TR><TR><TD><TT CLASS="LITERAL">entity</TT></TD><TD>XML entity</TD><TD><TT CLASS="LITERAL">&amp;amp;</TT></TD></TR><TR><TD><TT CLASS="LITERAL">blank</TT></TD><TD>Space symbols</TD><TD>(any whitespace or punctuation not otherwise recognized)</TD></TR></TBODY></TABLE></DIV><DIV CLASS="NOTE"><BLOCKQUOTE CLASS="NOTE"><P><B>&#27880;&#24847;: </B> 注意：一个<SPAN CLASS="QUOTE">"字母"</SPAN>的语法分析器的概念是由数据库的区域设置决定的，特别是<TT CLASS="VARNAME">lc_ctype</TT>。
只包含基本ASCII字母的词作为一个单独的标记类型被报告，因为区分他们有时候是有用的。
大多数欧洲语言，标记类型<TT CLASS="LITERAL">word</TT>和<TT CLASS="LITERAL">asciiword</TT>应该一视同仁。</P><P> <TT CLASS="LITERAL">email</TT>不支持由RFC 5322定义的所有有效的电子邮件字符。具体来说，
唯一的非字母数字字符支持电子邮件用户名有句号，破折号和下划线。 </P></BLOCKQUOTE></DIV><P>
对于分析器从文本的同一块产生重叠的标记是可能的。作为一个例子，
一个连字符的单词将作为整个单词和每个组件被报道：
</P><PRE CLASS="SCREEN">SELECT alias, description, token FROM ts_debug('foo-bar-beta1');
      alias      |               description                |     token     
-----------------+------------------------------------------+---------------
 numhword        | Hyphenated word, letters and digits      | foo-bar-beta1
 hword_asciipart | Hyphenated word part, all ASCII          | foo
 blank           | Space symbols                            | -
 hword_asciipart | Hyphenated word part, all ASCII          | bar
 blank           | Space symbols                            | -
 hword_numpart   | Hyphenated word part, letters and digits | beta1</PRE><P>
这种行为是可取的，因为它允许为整个复合词和组件进行搜索。这里是另一个很好的例子:
</P><PRE CLASS="SCREEN">SELECT alias, description, token FROM ts_debug('http://example.com/stuff/index.html');
  alias   |  description  |            token             
----------+---------------+------------------------------
 protocol | Protocol head | http://
 url      | URL           | example.com/stuff/index.html
 host     | Host          | example.com
 url_path | URL path      | /stuff/index.html</PRE><P>
</P></DIV><DIV CLASS="NAVFOOTER"><HR ALIGN="LEFT" WIDTH="100%"><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="textsearch-features.html" ACCESSKEY="P">&#19978;&#19968;&#39029;</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/index.html" ACCESSKEY="H">&#36215;&#22987;&#39029;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="textsearch-dictionaries.html" ACCESSKEY="N">&#19979;&#19968;&#39029;</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">附加功能</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="http://school.yunwei.edu/manual/PostgreSQL/textsearch.html" ACCESSKEY="U">&#19978;&#19968;&#32423;</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">词典</TD></TR></TABLE></DIV></BODY></HTML>
